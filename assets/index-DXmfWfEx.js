(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var ku={exports:{}},Qi={},Tu={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function by(){if(sp)return ee;sp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function V(C,x,q){this.props=C,this.context=x,this.refs=O,this.updater=q||N}V.prototype.isReactComponent={},V.prototype.setState=function(C,x){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,x,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=V.prototype;function J(C,x,q){this.props=C,this.context=x,this.refs=O,this.updater=q||N}var se=J.prototype=new G;se.constructor=J,L(se,V.prototype),se.isPureReactComponent=!0;var X=Array.isArray,ge=Object.prototype.hasOwnProperty,ve={current:null},de={key:!0,ref:!0,__self:!0,__source:!0};function Z(C,x,q){var re,le={},ae=null,_e=null;if(x!=null)for(re in x.ref!==void 0&&(_e=x.ref),x.key!==void 0&&(ae=""+x.key),x)ge.call(x,re)&&!de.hasOwnProperty(re)&&(le[re]=x[re]);var he=arguments.length-2;if(he===1)le.children=q;else if(1<he){for(var ke=Array(he),_t=0;_t<he;_t++)ke[_t]=arguments[_t+2];le.children=ke}if(C&&C.defaultProps)for(re in he=C.defaultProps,he)le[re]===void 0&&(le[re]=he[re]);return{$$typeof:n,type:C,key:ae,ref:_e,props:le,_owner:ve.current}}function Ot(C,x){return{$$typeof:n,type:C.type,key:x,ref:C.ref,props:C.props,_owner:C._owner}}function kt(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Ft(C){var x={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return x[q]})}var gt=/\/+/g;function Xe(C,x){return typeof C=="object"&&C!==null&&C.key!=null?Ft(""+C.key):x.toString(36)}function vt(C,x,q,re,le){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(ae){case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case n:case e:_e=!0}}if(_e)return _e=C,le=le(_e),C=re===""?"."+Xe(_e,0):re,X(le)?(q="",C!=null&&(q=C.replace(gt,"$&/")+"/"),vt(le,x,q,"",function(_t){return _t})):le!=null&&(kt(le)&&(le=Ot(le,q+(!le.key||_e&&_e.key===le.key?"":(""+le.key).replace(gt,"$&/")+"/")+C)),x.push(le)),1;if(_e=0,re=re===""?".":re+":",X(C))for(var he=0;he<C.length;he++){ae=C[he];var ke=re+Xe(ae,he);_e+=vt(ae,x,q,ke,le)}else if(ke=w(C),typeof ke=="function")for(C=ke.call(C),he=0;!(ae=C.next()).done;)ae=ae.value,ke=re+Xe(ae,he++),_e+=vt(ae,x,q,ke,le);else if(ae==="object")throw x=String(C),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return _e}function Qt(C,x,q){if(C==null)return C;var re=[],le=0;return vt(C,re,"","",function(ae){return x.call(q,ae,le++)}),re}function lt(C){if(C._status===-1){var x=C._result;x=x(),x.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=x)}if(C._status===1)return C._result.default;throw C._result}var Pe={current:null},F={transition:null},Y={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:F,ReactCurrentOwner:ve};function W(){throw Error("act(...) is not supported in production builds of React.")}return ee.Children={map:Qt,forEach:function(C,x,q){Qt(C,function(){x.apply(this,arguments)},q)},count:function(C){var x=0;return Qt(C,function(){x++}),x},toArray:function(C){return Qt(C,function(x){return x})||[]},only:function(C){if(!kt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ee.Component=V,ee.Fragment=i,ee.Profiler=l,ee.PureComponent=J,ee.StrictMode=s,ee.Suspense=p,ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ee.act=W,ee.cloneElement=function(C,x,q){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var re=L({},C.props),le=C.key,ae=C.ref,_e=C._owner;if(x!=null){if(x.ref!==void 0&&(ae=x.ref,_e=ve.current),x.key!==void 0&&(le=""+x.key),C.type&&C.type.defaultProps)var he=C.type.defaultProps;for(ke in x)ge.call(x,ke)&&!de.hasOwnProperty(ke)&&(re[ke]=x[ke]===void 0&&he!==void 0?he[ke]:x[ke])}var ke=arguments.length-2;if(ke===1)re.children=q;else if(1<ke){he=Array(ke);for(var _t=0;_t<ke;_t++)he[_t]=arguments[_t+2];re.children=he}return{$$typeof:n,type:C.type,key:le,ref:ae,props:re,_owner:_e}},ee.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},ee.createElement=Z,ee.createFactory=function(C){var x=Z.bind(null,C);return x.type=C,x},ee.createRef=function(){return{current:null}},ee.forwardRef=function(C){return{$$typeof:h,render:C}},ee.isValidElement=kt,ee.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:lt}},ee.memo=function(C,x){return{$$typeof:g,type:C,compare:x===void 0?null:x}},ee.startTransition=function(C){var x=F.transition;F.transition={};try{C()}finally{F.transition=x}},ee.unstable_act=W,ee.useCallback=function(C,x){return Pe.current.useCallback(C,x)},ee.useContext=function(C){return Pe.current.useContext(C)},ee.useDebugValue=function(){},ee.useDeferredValue=function(C){return Pe.current.useDeferredValue(C)},ee.useEffect=function(C,x){return Pe.current.useEffect(C,x)},ee.useId=function(){return Pe.current.useId()},ee.useImperativeHandle=function(C,x,q){return Pe.current.useImperativeHandle(C,x,q)},ee.useInsertionEffect=function(C,x){return Pe.current.useInsertionEffect(C,x)},ee.useLayoutEffect=function(C,x){return Pe.current.useLayoutEffect(C,x)},ee.useMemo=function(C,x){return Pe.current.useMemo(C,x)},ee.useReducer=function(C,x,q){return Pe.current.useReducer(C,x,q)},ee.useRef=function(C){return Pe.current.useRef(C)},ee.useState=function(C){return Pe.current.useState(C)},ee.useSyncExternalStore=function(C,x,q){return Pe.current.useSyncExternalStore(C,x,q)},ee.useTransition=function(){return Pe.current.useTransition()},ee.version="18.3.1",ee}var op;function yc(){return op||(op=1,Tu.exports=by()),Tu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function zy(){if(lp)return Qi;lp=1;var n=yc(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var _,v={},w=null,N=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(N=p.ref);for(_ in p)s.call(p,_)&&!u.hasOwnProperty(_)&&(v[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)v[_]===void 0&&(v[_]=p[_]);return{$$typeof:e,type:h,key:w,ref:N,props:v,_owner:l.current}}return Qi.Fragment=i,Qi.jsx=d,Qi.jsxs=d,Qi}var ap;function Vy(){return ap||(ap=1,ku.exports=zy()),ku.exports}var es=Vy(),Qu=yc(),Wo={},Nu={exports:{}},ht={},Ru={exports:{}},xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function Wy(){return up||(up=1,function(n){function e(F,Y){var W=F.length;F.push(Y);e:for(;0<W;){var C=W-1>>>1,x=F[C];if(0<l(x,Y))F[C]=Y,F[W]=x,W=C;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Y=F[0],W=F.pop();if(W!==Y){F[0]=W;e:for(var C=0,x=F.length,q=x>>>1;C<q;){var re=2*(C+1)-1,le=F[re],ae=re+1,_e=F[ae];if(0>l(le,W))ae<x&&0>l(_e,le)?(F[C]=_e,F[ae]=W,C=ae):(F[C]=le,F[re]=W,C=re);else if(ae<x&&0>l(_e,W))F[C]=_e,F[ae]=W,C=ae;else break e}}return Y}function l(F,Y){var W=F.sortIndex-Y.sortIndex;return W!==0?W:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],_=1,v=null,w=3,N=!1,L=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(F){for(var Y=i(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=F)s(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=i(g)}}function X(F){if(O=!1,se(F),!L)if(i(p)!==null)L=!0,lt(ge);else{var Y=i(g);Y!==null&&Pe(X,Y.startTime-F)}}function ge(F,Y){L=!1,O&&(O=!1,G(Z),Z=-1),N=!0;var W=w;try{for(se(Y),v=i(p);v!==null&&(!(v.expirationTime>Y)||F&&!Ft());){var C=v.callback;if(typeof C=="function"){v.callback=null,w=v.priorityLevel;var x=C(v.expirationTime<=Y);Y=n.unstable_now(),typeof x=="function"?v.callback=x:v===i(p)&&s(p),se(Y)}else s(p);v=i(p)}if(v!==null)var q=!0;else{var re=i(g);re!==null&&Pe(X,re.startTime-Y),q=!1}return q}finally{v=null,w=W,N=!1}}var ve=!1,de=null,Z=-1,Ot=5,kt=-1;function Ft(){return!(n.unstable_now()-kt<Ot)}function gt(){if(de!==null){var F=n.unstable_now();kt=F;var Y=!0;try{Y=de(!0,F)}finally{Y?Xe():(ve=!1,de=null)}}else ve=!1}var Xe;if(typeof J=="function")Xe=function(){J(gt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Qt=vt.port2;vt.port1.onmessage=gt,Xe=function(){Qt.postMessage(null)}}else Xe=function(){V(gt,0)};function lt(F){de=F,ve||(ve=!0,Xe())}function Pe(F,Y){Z=V(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){L||N||(L=!0,lt(ge))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(F){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var W=w;w=Y;try{return F()}finally{w=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=w;w=F;try{return Y()}finally{w=W}},n.unstable_scheduleCallback=function(F,Y,W){var C=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,F={id:_++,callback:Y,priorityLevel:F,startTime:W,expirationTime:x,sortIndex:-1},W>C?(F.sortIndex=W,e(g,F),i(p)===null&&F===i(g)&&(O?(G(Z),Z=-1):O=!0,Pe(X,W-C))):(F.sortIndex=x,e(p,F),L||N||(L=!0,lt(ge))),F},n.unstable_shouldYield=Ft,n.unstable_wrapCallback=function(F){var Y=w;return function(){var W=w;w=Y;try{return F.apply(this,arguments)}finally{w=W}}}}(xu)),xu}var cp;function Uy(){return cp||(cp=1,Ru.exports=Wy()),Ru.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function jy(){if(dp)return ht;dp=1;var n=yc(),e=Uy();function i(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function w(t){return p.call(v,t)?!0:p.call(_,t)?!1:g.test(t)?v[t]=!0:(_[t]=!0,!1)}function N(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,r,o,a){if(r===null||typeof r>"u"||N(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function O(t,r,o,a,c,f,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=m}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){V[t]=new O(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];V[r]=new O(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){V[t]=new O(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){V[t]=new O(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){V[t]=new O(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){V[t]=new O(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){V[t]=new O(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){V[t]=new O(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){V[t]=new O(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,J);V[r]=new O(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,J);V[r]=new O(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,J);V[r]=new O(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){V[t]=new O(t,1,!1,t.toLowerCase(),null,!1,!1)}),V.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){V[t]=new O(t,1,!1,t.toLowerCase(),null,!0,!0)});function se(t,r,o,a){var c=V.hasOwnProperty(r)?V[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(L(r,o,c,a)&&(o=null),a||c===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),ve=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Ot=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),Ft=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),Qt=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),F=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,C;function x(t){if(C===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+t}var q=!1;function re(t,r){if(!t||q)return"";q=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(T){var a=T}Reflect.construct(t,[],r)}else{try{r.call()}catch(T){a=T}t.call(r.prototype)}else{try{throw Error()}catch(T){a=T}t()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=a.stack.split(`
`),m=c.length-1,y=f.length-1;1<=m&&0<=y&&c[m]!==f[y];)y--;for(;1<=m&&0<=y;m--,y--)if(c[m]!==f[y]){if(m!==1||y!==1)do if(m--,y--,0>y||c[m]!==f[y]){var S=`
`+c[m].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=m&&0<=y);break}}}finally{q=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?x(t):""}function le(t){switch(t.tag){case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return t=re(t.type,!1),t;case 11:return t=re(t.type.render,!1),t;case 1:return t=re(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case de:return"Fragment";case ve:return"Portal";case Ot:return"Profiler";case Z:return"StrictMode";case Xe:return"Suspense";case vt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ft:return(t.displayName||"Context")+".Consumer";case kt:return(t._context.displayName||"Context")+".Provider";case gt:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qt:return r=t.displayName||null,r!==null?r:ae(t.type)||"Memo";case lt:r=t._payload,t=t._init;try{return ae(t(r))}catch{}}return null}function _e(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(r);case 8:return r===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function he(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ke(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _t(t){var r=ke(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xs(t){t._valueTracker||(t._valueTracker=_t(t))}function cd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=ke(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ll(t,r){var o=r.checked;return W({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function dd(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=he(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function fd(t,r){r=r.checked,r!=null&&se(t,"checked",r,!1)}function Dl(t,r){fd(t,r);var o=he(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ml(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ml(t,r.type,he(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function hd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ml(t,r,o){(r!=="number"||Ps(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ui=Array.isArray;function Er(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+he(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function Ol(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(i(91));return W({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(i(92));if(ui(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:he(o)}}function md(t,r){var o=he(r.value),a=he(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function gd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function vd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?vd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var As,_d=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=As.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ci(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jv=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){jv.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),di[r]=di[t]})});function yd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||di.hasOwnProperty(t)&&di[t]?(""+r).trim():r+"px"}function wd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=yd(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var Bv=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(t,r){if(r){if(Bv[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(i(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(i(61))}if(r.style!=null&&typeof r.style!="object")throw Error(i(62))}}function zl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,Cr=null,Ir=null;function Sd(t){if(t=Di(t)){if(typeof Ul!="function")throw Error(i(280));var r=t.stateNode;r&&(r=eo(r),Ul(t.stateNode,t.type,r))}}function Ed(t){Cr?Ir?Ir.push(t):Ir=[t]:Cr=t}function Cd(){if(Cr){var t=Cr,r=Ir;if(Ir=Cr=null,Sd(t),r)for(t=0;t<r.length;t++)Sd(r[t])}}function Id(t,r){return t(r)}function kd(){}var jl=!1;function Td(t,r,o){if(jl)return t(r,o);jl=!0;try{return Id(t,r,o)}finally{jl=!1,(Cr!==null||Ir!==null)&&(kd(),Cd())}}function fi(t,r){var o=t.stateNode;if(o===null)return null;var a=eo(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Bl=!1;if(h)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Bl=!1}function Hv(t,r,o,a,c,f,m,y,S){var T=Array.prototype.slice.call(arguments,3);try{r.apply(o,T)}catch(P){this.onError(P)}}var pi=!1,Ls=null,Ds=!1,Hl=null,$v={onError:function(t){pi=!0,Ls=t}};function Gv(t,r,o,a,c,f,m,y,S){pi=!1,Ls=null,Hv.apply($v,arguments)}function Yv(t,r,o,a,c,f,m,y,S){if(Gv.apply(this,arguments),pi){if(pi){var T=Ls;pi=!1,Ls=null}else throw Error(i(198));Ds||(Ds=!0,Hl=T)}}function Zn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Nd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Rd(t){if(Zn(t)!==t)throw Error(i(188))}function Qv(t){var r=t.alternate;if(!r){if(r=Zn(t),r===null)throw Error(i(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===o)return Rd(c),t;if(f===a)return Rd(c),r;f=f.sibling}throw Error(i(188))}if(o.return!==a.return)o=c,a=f;else{for(var m=!1,y=c.child;y;){if(y===o){m=!0,o=c,a=f;break}if(y===a){m=!0,a=c,o=f;break}y=y.sibling}if(!m){for(y=f.child;y;){if(y===o){m=!0,o=f,a=c;break}if(y===a){m=!0,a=f,o=c;break}y=y.sibling}if(!m)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:r}function xd(t){return t=Qv(t),t!==null?Pd(t):null}function Pd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Pd(t);if(r!==null)return r;t=t.sibling}return null}var Ad=e.unstable_scheduleCallback,Ld=e.unstable_cancelCallback,Kv=e.unstable_shouldYield,Xv=e.unstable_requestPaint,Me=e.unstable_now,Zv=e.unstable_getCurrentPriorityLevel,$l=e.unstable_ImmediatePriority,Dd=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,qv=e.unstable_LowPriority,Md=e.unstable_IdlePriority,Os=null,Kt=null;function Jv(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Os,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:n_,e_=Math.log,t_=Math.LN2;function n_(t){return t>>>=0,t===0?32:31-(e_(t)/t_|0)|0}var Fs=64,bs=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,f=t.pingedLanes,m=o&268435455;if(m!==0){var y=m&~c;y!==0?a=mi(y):(f&=m,f!==0&&(a=mi(f)))}else m=o&~c,m!==0?a=mi(m):f!==0&&(a=mi(f));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-bt(r),c=1<<o,a|=t[o],r&=~c;return a}function r_(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var m=31-bt(f),y=1<<m,S=c[m];S===-1?(!(y&o)||y&a)&&(c[m]=r_(y,r)):S<=r&&(t.expiredLanes|=y),f&=~y}}function Gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Od(){var t=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),t}function Yl(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function gi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function s_(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-bt(o),f=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~f}}function Ql(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-bt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var pe=0;function Fd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bd,Kl,zd,Vd,Wd,Xl=!1,Vs=[],Sn=null,En=null,Cn=null,vi=new Map,_i=new Map,In=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(t,r){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":vi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(r.pointerId)}}function yi(t,r,o,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Di(r),r!==null&&Kl(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function l_(t,r,o,a,c){switch(r){case"focusin":return Sn=yi(Sn,t,r,o,a,c),!0;case"dragenter":return En=yi(En,t,r,o,a,c),!0;case"mouseover":return Cn=yi(Cn,t,r,o,a,c),!0;case"pointerover":var f=c.pointerId;return vi.set(f,yi(vi.get(f)||null,t,r,o,a,c)),!0;case"gotpointercapture":return f=c.pointerId,_i.set(f,yi(_i.get(f)||null,t,r,o,a,c)),!0}return!1}function jd(t){var r=qn(t.target);if(r!==null){var o=Zn(r);if(o!==null){if(r=o.tag,r===13){if(r=Nd(o),r!==null){t.blockedOn=r,Wd(t.priority,function(){zd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ws(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ql(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Vl=a,o.target.dispatchEvent(a),Vl=null}else return r=Di(o),r!==null&&Kl(r),t.blockedOn=o,!1;r.shift()}return!0}function Bd(t,r,o){Ws(t)&&o.delete(r)}function a_(){Xl=!1,Sn!==null&&Ws(Sn)&&(Sn=null),En!==null&&Ws(En)&&(En=null),Cn!==null&&Ws(Cn)&&(Cn=null),vi.forEach(Bd),_i.forEach(Bd)}function wi(t,r){t.blockedOn===r&&(t.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a_)))}function Si(t){function r(c){return wi(c,t)}if(0<Vs.length){wi(Vs[0],t);for(var o=1;o<Vs.length;o++){var a=Vs[o];a.blockedOn===t&&(a.blockedOn=null)}}for(Sn!==null&&wi(Sn,t),En!==null&&wi(En,t),Cn!==null&&wi(Cn,t),vi.forEach(r),_i.forEach(r),o=0;o<In.length;o++)a=In[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<In.length&&(o=In[0],o.blockedOn===null);)jd(o),o.blockedOn===null&&In.shift()}var kr=X.ReactCurrentBatchConfig,Us=!0;function u_(t,r,o,a){var c=pe,f=kr.transition;kr.transition=null;try{pe=1,Zl(t,r,o,a)}finally{pe=c,kr.transition=f}}function c_(t,r,o,a){var c=pe,f=kr.transition;kr.transition=null;try{pe=4,Zl(t,r,o,a)}finally{pe=c,kr.transition=f}}function Zl(t,r,o,a){if(Us){var c=ql(t,r,o,a);if(c===null)ma(t,r,a,js,o),Ud(t,a);else if(l_(c,t,r,o,a))a.stopPropagation();else if(Ud(t,a),r&4&&-1<o_.indexOf(t)){for(;c!==null;){var f=Di(c);if(f!==null&&bd(f),f=ql(t,r,o,a),f===null&&ma(t,r,a,js,o),f===c)break;c=f}c!==null&&a.stopPropagation()}else ma(t,r,a,null,o)}}var js=null;function ql(t,r,o,a){if(js=null,t=Wl(a),t=qn(t),t!==null)if(r=Zn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Nd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return js=t,null}function Hd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zv()){case $l:return 1;case Dd:return 4;case Ms:case qv:return 16;case Md:return 536870912;default:return 16}default:return 16}}var kn=null,Jl=null,Bs=null;function $d(){if(Bs)return Bs;var t,r=Jl,o=r.length,a,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<o&&r[t]===c[t];t++);var m=o-t;for(a=1;a<=m&&r[o-a]===c[f-a];a++);return Bs=c.slice(t,1<a?1-a:void 0)}function Hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function Gd(){return!1}function yt(t){function r(o,a,c,f,m){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(o=t[y],this[y]=o?o(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$s:Gd,this.isPropagationStopped=Gd,this}return W(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=yt(Tr),Ei=W({},Tr,{view:0,detail:0}),d_=yt(Ei),ta,na,Ci,Gs=W({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(ta=t.screenX-Ci.screenX,na=t.screenY-Ci.screenY):na=ta=0,Ci=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Yd=yt(Gs),f_=W({},Gs,{dataTransfer:0}),h_=yt(f_),p_=W({},Ei,{relatedTarget:0}),ra=yt(p_),m_=W({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),g_=yt(m_),v_=W({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),__=yt(v_),y_=W({},Tr,{data:0}),Qd=yt(y_),w_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=E_[t])?!!r[t]:!1}function ia(){return C_}var I_=W({},Ei,{key:function(t){if(t.key){var r=w_[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k_=yt(I_),T_=W({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=yt(T_),N_=W({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),R_=yt(N_),x_=W({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),P_=yt(x_),A_=W({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=yt(A_),D_=[9,13,27,32],sa=h&&"CompositionEvent"in window,Ii=null;h&&"documentMode"in document&&(Ii=document.documentMode);var M_=h&&"TextEvent"in window&&!Ii,Xd=h&&(!sa||Ii&&8<Ii&&11>=Ii),Zd=" ",qd=!1;function Jd(t,r){switch(t){case"keyup":return D_.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function O_(t,r){switch(t){case"compositionend":return ef(r);case"keypress":return r.which!==32?null:(qd=!0,Zd);case"textInput":return t=r.data,t===Zd&&qd?null:t;default:return null}}function F_(t,r){if(Nr)return t==="compositionend"||!sa&&Jd(t,r)?(t=$d(),Bs=Jl=kn=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xd&&r.locale!=="ko"?null:r.data;default:return null}}var b_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!b_[t.type]:r==="textarea"}function nf(t,r,o,a){Ed(a),r=Zs(r,"onChange"),0<r.length&&(o=new ea("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var ki=null,Ti=null;function z_(t){Sf(t,0)}function Ys(t){var r=Lr(t);if(cd(r))return t}function V_(t,r){if(t==="change")return r}var rf=!1;if(h){var oa;if(h){var la="oninput"in document;if(!la){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),la=typeof sf.oninput=="function"}oa=la}else oa=!1;rf=oa&&(!document.documentMode||9<document.documentMode)}function of(){ki&&(ki.detachEvent("onpropertychange",lf),Ti=ki=null)}function lf(t){if(t.propertyName==="value"&&Ys(Ti)){var r=[];nf(r,Ti,t,Wl(t)),Td(z_,r)}}function W_(t,r,o){t==="focusin"?(of(),ki=r,Ti=o,ki.attachEvent("onpropertychange",lf)):t==="focusout"&&of()}function U_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ys(Ti)}function j_(t,r){if(t==="click")return Ys(r)}function B_(t,r){if(t==="input"||t==="change")return Ys(r)}function H_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var zt=typeof Object.is=="function"?Object.is:H_;function Ni(t,r){if(zt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!p.call(r,c)||!zt(t[c],r[c]))return!1}return!0}function af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uf(t,r){var o=af(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=af(o)}}function cf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?cf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function df(){for(var t=window,r=Ps();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ps(t.document)}return r}function aa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function $_(t){var r=df(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&cf(o.ownerDocument.documentElement,o)){if(a!==null&&aa(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!t.extend&&f>a&&(c=a,a=f,f=c),c=uf(o,f);var m=uf(o,a);c&&m&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),f>a?(t.addRange(r),t.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G_=h&&"documentMode"in document&&11>=document.documentMode,Rr=null,ua=null,Ri=null,ca=!1;function ff(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ca||Rr==null||Rr!==Ps(a)||(a=Rr,"selectionStart"in a&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ri&&Ni(Ri,a)||(Ri=a,a=Zs(ua,"onSelect"),0<a.length&&(r=new ea("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Rr)))}function Qs(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var xr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},da={},hf={};h&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Ks(t){if(da[t])return da[t];if(!xr[t])return t;var r=xr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in hf)return da[t]=r[o];return t}var pf=Ks("animationend"),mf=Ks("animationiteration"),gf=Ks("animationstart"),vf=Ks("transitionend"),_f=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,r){_f.set(t,r),u(r,[t])}for(var fa=0;fa<yf.length;fa++){var ha=yf[fa],Y_=ha.toLowerCase(),Q_=ha[0].toUpperCase()+ha.slice(1);Tn(Y_,"on"+Q_)}Tn(pf,"onAnimationEnd"),Tn(mf,"onAnimationIteration"),Tn(gf,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(vf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K_=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function wf(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,Yv(a,r,void 0,t),t.currentTarget=null}function Sf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var f=void 0;if(r)for(var m=a.length-1;0<=m;m--){var y=a[m],S=y.instance,T=y.currentTarget;if(y=y.listener,S!==f&&c.isPropagationStopped())break e;wf(c,y,T),f=S}else for(m=0;m<a.length;m++){if(y=a[m],S=y.instance,T=y.currentTarget,y=y.listener,S!==f&&c.isPropagationStopped())break e;wf(c,y,T),f=S}}}if(Ds)throw t=Hl,Ds=!1,Hl=null,t}function Ce(t,r){var o=r[Sa];o===void 0&&(o=r[Sa]=new Set);var a=t+"__bubble";o.has(a)||(Ef(r,t,2,!1),o.add(a))}function pa(t,r,o){var a=0;r&&(a|=4),Ef(o,t,a,r)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){if(!t[Xs]){t[Xs]=!0,s.forEach(function(o){o!=="selectionchange"&&(K_.has(o)||pa(o,!1,t),pa(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xs]||(r[Xs]=!0,pa("selectionchange",!1,r))}}function Ef(t,r,o,a){switch(Hd(r)){case 1:var c=u_;break;case 4:c=c_;break;default:c=Zl}o=c.bind(null,r,o,t),c=void 0,!Bl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function ma(t,r,o,a,c){var f=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var S=m.tag;if((S===3||S===4)&&(S=m.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;m=m.return}for(;y!==null;){if(m=qn(y),m===null)return;if(S=m.tag,S===5||S===6){a=f=m;continue e}y=y.parentNode}}a=a.return}Td(function(){var T=f,P=Wl(o),A=[];e:{var R=_f.get(t);if(R!==void 0){var b=ea,U=t;switch(t){case"keypress":if(Hs(o)===0)break e;case"keydown":case"keyup":b=k_;break;case"focusin":U="focus",b=ra;break;case"focusout":U="blur",b=ra;break;case"beforeblur":case"afterblur":b=ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=h_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=R_;break;case pf:case mf:case gf:b=g_;break;case vf:b=P_;break;case"scroll":b=d_;break;case"wheel":b=L_;break;case"copy":case"cut":case"paste":b=__;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Kd}var j=(r&4)!==0,Oe=!j&&t==="scroll",I=j?R!==null?R+"Capture":null:R;j=[];for(var E=T,k;E!==null;){k=E;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,I!==null&&(D=fi(E,I),D!=null&&j.push(Ai(E,D,k)))),Oe)break;E=E.return}0<j.length&&(R=new b(R,U,null,o,P),A.push({event:R,listeners:j}))}}if(!(r&7)){e:{if(R=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",R&&o!==Vl&&(U=o.relatedTarget||o.fromElement)&&(qn(U)||U[on]))break e;if((b||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,b?(U=o.relatedTarget||o.toElement,b=T,U=U?qn(U):null,U!==null&&(Oe=Zn(U),U!==Oe||U.tag!==5&&U.tag!==6)&&(U=null)):(b=null,U=T),b!==U)){if(j=Yd,D="onMouseLeave",I="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(j=Kd,D="onPointerLeave",I="onPointerEnter",E="pointer"),Oe=b==null?R:Lr(b),k=U==null?R:Lr(U),R=new j(D,E+"leave",b,o,P),R.target=Oe,R.relatedTarget=k,D=null,qn(P)===T&&(j=new j(I,E+"enter",U,o,P),j.target=k,j.relatedTarget=Oe,D=j),Oe=D,b&&U)t:{for(j=b,I=U,E=0,k=j;k;k=Pr(k))E++;for(k=0,D=I;D;D=Pr(D))k++;for(;0<E-k;)j=Pr(j),E--;for(;0<k-E;)I=Pr(I),k--;for(;E--;){if(j===I||I!==null&&j===I.alternate)break t;j=Pr(j),I=Pr(I)}j=null}else j=null;b!==null&&Cf(A,R,b,j,!1),U!==null&&Oe!==null&&Cf(A,Oe,U,j,!0)}}e:{if(R=T?Lr(T):window,b=R.nodeName&&R.nodeName.toLowerCase(),b==="select"||b==="input"&&R.type==="file")var B=V_;else if(tf(R))if(rf)B=B_;else{B=U_;var H=W_}else(b=R.nodeName)&&b.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(B=j_);if(B&&(B=B(t,T))){nf(A,B,o,P);break e}H&&H(t,R,T),t==="focusout"&&(H=R._wrapperState)&&H.controlled&&R.type==="number"&&Ml(R,"number",R.value)}switch(H=T?Lr(T):window,t){case"focusin":(tf(H)||H.contentEditable==="true")&&(Rr=H,ua=T,Ri=null);break;case"focusout":Ri=ua=Rr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,ff(A,o,P);break;case"selectionchange":if(G_)break;case"keydown":case"keyup":ff(A,o,P)}var $;if(sa)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Nr?Jd(t,o)&&(K="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(K="onCompositionStart");K&&(Xd&&o.locale!=="ko"&&(Nr||K!=="onCompositionStart"?K==="onCompositionEnd"&&Nr&&($=$d()):(kn=P,Jl="value"in kn?kn.value:kn.textContent,Nr=!0)),H=Zs(T,K),0<H.length&&(K=new Qd(K,t,null,o,P),A.push({event:K,listeners:H}),$?K.data=$:($=ef(o),$!==null&&(K.data=$)))),($=M_?O_(t,o):F_(t,o))&&(T=Zs(T,"onBeforeInput"),0<T.length&&(P=new Qd("onBeforeInput","beforeinput",null,o,P),A.push({event:P,listeners:T}),P.data=$))}Sf(A,r)})}function Ai(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Zs(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=fi(t,o),f!=null&&a.unshift(Ai(t,f,c)),f=fi(t,r),f!=null&&a.push(Ai(t,f,c))),t=t.return}return a}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cf(t,r,o,a,c){for(var f=r._reactName,m=[];o!==null&&o!==a;){var y=o,S=y.alternate,T=y.stateNode;if(S!==null&&S===a)break;y.tag===5&&T!==null&&(y=T,c?(S=fi(o,f),S!=null&&m.unshift(Ai(o,S,y))):c||(S=fi(o,f),S!=null&&m.push(Ai(o,S,y)))),o=o.return}m.length!==0&&t.push({event:r,listeners:m})}var X_=/\r\n?/g,Z_=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(X_,`
`).replace(Z_,"")}function qs(t,r,o){if(r=If(r),If(t)!==r&&o)throw Error(i(425))}function Js(){}var ga=null,va=null;function _a(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,q_=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(t){return kf.resolve(null).then(t).catch(ey)}:ya;function ey(t){setTimeout(function(){throw t})}function wa(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Si(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Si(r)}function Nn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Tf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ar,Li="__reactProps$"+Ar,on="__reactContainer$"+Ar,Sa="__reactEvents$"+Ar,ty="__reactListeners$"+Ar,ny="__reactHandles$"+Ar;function qn(t){var r=t[Xt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[on]||o[Xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Tf(t);t!==null;){if(o=t[Xt])return o;t=Tf(t)}return r}t=o,o=t.parentNode}return null}function Di(t){return t=t[Xt]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function eo(t){return t[Li]||null}var Ea=[],Dr=-1;function Rn(t){return{current:t}}function Ie(t){0>Dr||(t.current=Ea[Dr],Ea[Dr]=null,Dr--)}function ye(t,r){Dr++,Ea[Dr]=t.current,t.current=r}var xn={},Ze=Rn(xn),at=Rn(!1),Jn=xn;function Mr(t,r){var o=t.type.contextTypes;if(!o)return xn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in o)c[f]=r[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function ut(t){return t=t.childContextTypes,t!=null}function to(){Ie(at),Ie(Ze)}function Nf(t,r,o){if(Ze.current!==xn)throw Error(i(168));ye(Ze,r),ye(at,o)}function Rf(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(i(108,_e(t)||"Unknown",c));return W({},o,a)}function no(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Jn=Ze.current,ye(Ze,t),ye(at,at.current),!0}function xf(t,r,o){var a=t.stateNode;if(!a)throw Error(i(169));o?(t=Rf(t,r,Jn),a.__reactInternalMemoizedMergedChildContext=t,Ie(at),Ie(Ze),ye(Ze,t)):Ie(at),ye(at,o)}var ln=null,ro=!1,Ca=!1;function Pf(t){ln===null?ln=[t]:ln.push(t)}function ry(t){ro=!0,Pf(t)}function Pn(){if(!Ca&&ln!==null){Ca=!0;var t=0,r=pe;try{var o=ln;for(pe=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}ln=null,ro=!1}catch(c){throw ln!==null&&(ln=ln.slice(t+1)),Ad($l,Pn),c}finally{pe=r,Ca=!1}}return null}var Or=[],Fr=0,io=null,so=0,Tt=[],Nt=0,er=null,an=1,un="";function tr(t,r){Or[Fr++]=so,Or[Fr++]=io,io=t,so=r}function Af(t,r,o){Tt[Nt++]=an,Tt[Nt++]=un,Tt[Nt++]=er,er=t;var a=an;t=un;var c=32-bt(a)-1;a&=~(1<<c),o+=1;var f=32-bt(r)+c;if(30<f){var m=c-c%5;f=(a&(1<<m)-1).toString(32),a>>=m,c-=m,an=1<<32-bt(r)+c|o<<c|a,un=f+t}else an=1<<f|o<<c|a,un=t}function Ia(t){t.return!==null&&(tr(t,1),Af(t,1,0))}function ka(t){for(;t===io;)io=Or[--Fr],Or[Fr]=null,so=Or[--Fr],Or[Fr]=null;for(;t===er;)er=Tt[--Nt],Tt[Nt]=null,un=Tt[--Nt],Tt[Nt]=null,an=Tt[--Nt],Tt[Nt]=null}var wt=null,St=null,Te=!1,Vt=null;function Lf(t,r){var o=At(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Df(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,wt=t,St=Nn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,wt=t,St=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=er!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=At(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,wt=t,St=null,!0):!1;default:return!1}}function Ta(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Na(t){if(Te){var r=St;if(r){var o=r;if(!Df(t,r)){if(Ta(t))throw Error(i(418));r=Nn(o.nextSibling);var a=wt;r&&Df(t,r)?Lf(a,o):(t.flags=t.flags&-4097|2,Te=!1,wt=t)}}else{if(Ta(t))throw Error(i(418));t.flags=t.flags&-4097|2,Te=!1,wt=t}}}function Mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function oo(t){if(t!==wt)return!1;if(!Te)return Mf(t),Te=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!_a(t.type,t.memoizedProps)),r&&(r=St)){if(Ta(t))throw Of(),Error(i(418));for(;r;)Lf(t,r),r=Nn(r.nextSibling)}if(Mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){St=Nn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}St=null}}else St=wt?Nn(t.stateNode.nextSibling):null;return!0}function Of(){for(var t=St;t;)t=Nn(t.nextSibling)}function br(){St=wt=null,Te=!1}function Ra(t){Vt===null?Vt=[t]:Vt.push(t)}var iy=X.ReactCurrentBatchConfig;function Mi(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var a=o.stateNode}if(!a)throw Error(i(147,t));var c=a,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(m){var y=c.refs;m===null?delete y[f]:y[f]=m},r._stringRef=f,r)}if(typeof t!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,t))}return t}function lo(t,r){throw t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Ff(t){var r=t._init;return r(t._payload)}function bf(t){function r(I,E){if(t){var k=I.deletions;k===null?(I.deletions=[E],I.flags|=16):k.push(E)}}function o(I,E){if(!t)return null;for(;E!==null;)r(I,E),E=E.sibling;return null}function a(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function c(I,E){return I=zn(I,E),I.index=0,I.sibling=null,I}function f(I,E,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<E?(I.flags|=2,E):k):(I.flags|=2,E)):(I.flags|=1048576,E)}function m(I){return t&&I.alternate===null&&(I.flags|=2),I}function y(I,E,k,D){return E===null||E.tag!==6?(E=yu(k,I.mode,D),E.return=I,E):(E=c(E,k),E.return=I,E)}function S(I,E,k,D){var B=k.type;return B===de?P(I,E,k.props.children,D,k.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===lt&&Ff(B)===E.type)?(D=c(E,k.props),D.ref=Mi(I,E,k),D.return=I,D):(D=Lo(k.type,k.key,k.props,null,I.mode,D),D.ref=Mi(I,E,k),D.return=I,D)}function T(I,E,k,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=wu(k,I.mode,D),E.return=I,E):(E=c(E,k.children||[]),E.return=I,E)}function P(I,E,k,D,B){return E===null||E.tag!==7?(E=ur(k,I.mode,D,B),E.return=I,E):(E=c(E,k),E.return=I,E)}function A(I,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=yu(""+E,I.mode,k),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ge:return k=Lo(E.type,E.key,E.props,null,I.mode,k),k.ref=Mi(I,null,E),k.return=I,k;case ve:return E=wu(E,I.mode,k),E.return=I,E;case lt:var D=E._init;return A(I,D(E._payload),k)}if(ui(E)||Y(E))return E=ur(E,I.mode,k,null),E.return=I,E;lo(I,E)}return null}function R(I,E,k,D){var B=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return B!==null?null:y(I,E,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ge:return k.key===B?S(I,E,k,D):null;case ve:return k.key===B?T(I,E,k,D):null;case lt:return B=k._init,R(I,E,B(k._payload),D)}if(ui(k)||Y(k))return B!==null?null:P(I,E,k,D,null);lo(I,k)}return null}function b(I,E,k,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(k)||null,y(E,I,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ge:return I=I.get(D.key===null?k:D.key)||null,S(E,I,D,B);case ve:return I=I.get(D.key===null?k:D.key)||null,T(E,I,D,B);case lt:var H=D._init;return b(I,E,k,H(D._payload),B)}if(ui(D)||Y(D))return I=I.get(k)||null,P(E,I,D,B,null);lo(E,D)}return null}function U(I,E,k,D){for(var B=null,H=null,$=E,K=E=0,Be=null;$!==null&&K<k.length;K++){$.index>K?(Be=$,$=null):Be=$.sibling;var ue=R(I,$,k[K],D);if(ue===null){$===null&&($=Be);break}t&&$&&ue.alternate===null&&r(I,$),E=f(ue,E,K),H===null?B=ue:H.sibling=ue,H=ue,$=Be}if(K===k.length)return o(I,$),Te&&tr(I,K),B;if($===null){for(;K<k.length;K++)$=A(I,k[K],D),$!==null&&(E=f($,E,K),H===null?B=$:H.sibling=$,H=$);return Te&&tr(I,K),B}for($=a(I,$);K<k.length;K++)Be=b($,I,K,k[K],D),Be!==null&&(t&&Be.alternate!==null&&$.delete(Be.key===null?K:Be.key),E=f(Be,E,K),H===null?B=Be:H.sibling=Be,H=Be);return t&&$.forEach(function(Vn){return r(I,Vn)}),Te&&tr(I,K),B}function j(I,E,k,D){var B=Y(k);if(typeof B!="function")throw Error(i(150));if(k=B.call(k),k==null)throw Error(i(151));for(var H=B=null,$=E,K=E=0,Be=null,ue=k.next();$!==null&&!ue.done;K++,ue=k.next()){$.index>K?(Be=$,$=null):Be=$.sibling;var Vn=R(I,$,ue.value,D);if(Vn===null){$===null&&($=Be);break}t&&$&&Vn.alternate===null&&r(I,$),E=f(Vn,E,K),H===null?B=Vn:H.sibling=Vn,H=Vn,$=Be}if(ue.done)return o(I,$),Te&&tr(I,K),B;if($===null){for(;!ue.done;K++,ue=k.next())ue=A(I,ue.value,D),ue!==null&&(E=f(ue,E,K),H===null?B=ue:H.sibling=ue,H=ue);return Te&&tr(I,K),B}for($=a(I,$);!ue.done;K++,ue=k.next())ue=b($,I,K,ue.value,D),ue!==null&&(t&&ue.alternate!==null&&$.delete(ue.key===null?K:ue.key),E=f(ue,E,K),H===null?B=ue:H.sibling=ue,H=ue);return t&&$.forEach(function(Fy){return r(I,Fy)}),Te&&tr(I,K),B}function Oe(I,E,k,D){if(typeof k=="object"&&k!==null&&k.type===de&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ge:e:{for(var B=k.key,H=E;H!==null;){if(H.key===B){if(B=k.type,B===de){if(H.tag===7){o(I,H.sibling),E=c(H,k.props.children),E.return=I,I=E;break e}}else if(H.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===lt&&Ff(B)===H.type){o(I,H.sibling),E=c(H,k.props),E.ref=Mi(I,H,k),E.return=I,I=E;break e}o(I,H);break}else r(I,H);H=H.sibling}k.type===de?(E=ur(k.props.children,I.mode,D,k.key),E.return=I,I=E):(D=Lo(k.type,k.key,k.props,null,I.mode,D),D.ref=Mi(I,E,k),D.return=I,I=D)}return m(I);case ve:e:{for(H=k.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){o(I,E.sibling),E=c(E,k.children||[]),E.return=I,I=E;break e}else{o(I,E);break}else r(I,E);E=E.sibling}E=wu(k,I.mode,D),E.return=I,I=E}return m(I);case lt:return H=k._init,Oe(I,E,H(k._payload),D)}if(ui(k))return U(I,E,k,D);if(Y(k))return j(I,E,k,D);lo(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(o(I,E.sibling),E=c(E,k),E.return=I,I=E):(o(I,E),E=yu(k,I.mode,D),E.return=I,I=E),m(I)):o(I,E)}return Oe}var zr=bf(!0),zf=bf(!1),ao=Rn(null),uo=null,Vr=null,xa=null;function Pa(){xa=Vr=uo=null}function Aa(t){var r=ao.current;Ie(ao),t._currentValue=r}function La(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function Wr(t,r){uo=t,xa=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(ct=!0),t.firstContext=null)}function Rt(t){var r=t._currentValue;if(xa!==t)if(t={context:t,memoizedValue:r,next:null},Vr===null){if(uo===null)throw Error(i(308));Vr=t,uo.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return r}var nr=null;function Da(t){nr===null?nr=[t]:nr.push(t)}function Vf(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,Da(r)):(o.next=c.next,c.next=o),r.interleaved=o,cn(t,a)}function cn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var An=!1;function Ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ln(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,oe&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,cn(t,o)}return c=a.interleaved,c===null?(r.next=r,Da(a)):(r.next=c.next,c.next=r),a.interleaved=r,cn(t,o)}function co(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Ql(t,o)}}function Uf(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?c=f=m:f=f.next=m,o=o.next}while(o!==null);f===null?c=f=r:f=f.next=r}else c=f=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function fo(t,r,o,a){var c=t.updateQueue;An=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,T=S.next;S.next=null,m===null?f=T:m.next=T,m=S;var P=t.alternate;P!==null&&(P=P.updateQueue,y=P.lastBaseUpdate,y!==m&&(y===null?P.firstBaseUpdate=T:y.next=T,P.lastBaseUpdate=S))}if(f!==null){var A=c.baseState;m=0,P=T=S=null,y=f;do{var R=y.lane,b=y.eventTime;if((a&R)===R){P!==null&&(P=P.next={eventTime:b,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var U=t,j=y;switch(R=r,b=o,j.tag){case 1:if(U=j.payload,typeof U=="function"){A=U.call(b,A,R);break e}A=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=j.payload,R=typeof U=="function"?U.call(b,A,R):U,R==null)break e;A=W({},A,R);break e;case 2:An=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,R=c.effects,R===null?c.effects=[y]:R.push(y))}else b={eventTime:b,lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},P===null?(T=P=b,S=A):P=P.next=b,m|=R;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;R=y,y=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(P===null&&(S=A),c.baseState=S,c.firstBaseUpdate=T,c.lastBaseUpdate=P,r=c.shared.interleaved,r!==null){c=r;do m|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);sr|=m,t.lanes=m,t.memoizedState=A}}function jf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(i(191,c));c.call(a)}}}var Oi={},Zt=Rn(Oi),Fi=Rn(Oi),bi=Rn(Oi);function rr(t){if(t===Oi)throw Error(i(174));return t}function Oa(t,r){switch(ye(bi,r),ye(Fi,t),ye(Zt,Oi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Fl(r,t)}Ie(Zt),ye(Zt,r)}function Ur(){Ie(Zt),Ie(Fi),Ie(bi)}function Bf(t){rr(bi.current);var r=rr(Zt.current),o=Fl(r,t.type);r!==o&&(ye(Fi,t),ye(Zt,o))}function Fa(t){Fi.current===t&&(Ie(Zt),Ie(Fi))}var Re=Rn(0);function ho(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ba=[];function za(){for(var t=0;t<ba.length;t++)ba[t]._workInProgressVersionPrimary=null;ba.length=0}var po=X.ReactCurrentDispatcher,Va=X.ReactCurrentBatchConfig,ir=0,xe=null,be=null,Ue=null,mo=!1,zi=!1,Vi=0,sy=0;function qe(){throw Error(i(321))}function Wa(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!zt(t[o],r[o]))return!1;return!0}function Ua(t,r,o,a,c,f){if(ir=f,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,po.current=t===null||t.memoizedState===null?uy:cy,t=o(a,c),zi){f=0;do{if(zi=!1,Vi=0,25<=f)throw Error(i(301));f+=1,Ue=be=null,r.updateQueue=null,po.current=dy,t=o(a,c)}while(zi)}if(po.current=_o,r=be!==null&&be.next!==null,ir=0,Ue=be=xe=null,mo=!1,r)throw Error(i(300));return t}function ja(){var t=Vi!==0;return Vi=0,t}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?xe.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function xt(){if(be===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var r=Ue===null?xe.memoizedState:Ue.next;if(r!==null)Ue=r,be=t;else{if(t===null)throw Error(i(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ue===null?xe.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Wi(t,r){return typeof r=="function"?r(t):r}function Ba(t){var r=xt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var a=be,c=a.baseQueue,f=o.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}a.baseQueue=c=f,o.pending=null}if(c!==null){f=c.next,a=a.baseState;var y=m=null,S=null,T=f;do{var P=T.lane;if((ir&P)===P)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:t(a,T.action);else{var A={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(y=S=A,m=a):S=S.next=A,xe.lanes|=P,sr|=P}T=T.next}while(T!==null&&T!==f);S===null?m=a:S.next=y,zt(a,r.memoizedState)||(ct=!0),r.memoizedState=a,r.baseState=m,r.baseQueue=S,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do f=c.lane,xe.lanes|=f,sr|=f,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ha(t){var r=xt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,f=r.memoizedState;if(c!==null){o.pending=null;var m=c=c.next;do f=t(f,m.action),m=m.next;while(m!==c);zt(f,r.memoizedState)||(ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,a]}function Hf(){}function $f(t,r){var o=xe,a=xt(),c=r(),f=!zt(a.memoizedState,c);if(f&&(a.memoizedState=c,ct=!0),a=a.queue,$a(Qf.bind(null,o,a,t),[t]),a.getSnapshot!==r||f||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,Ui(9,Yf.bind(null,o,a,c,r),void 0,null),je===null)throw Error(i(349));ir&30||Gf(o,r,c)}return c}function Gf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=xe.updateQueue,r===null?(r={lastEffect:null,stores:null},xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Yf(t,r,o,a){r.value=o,r.getSnapshot=a,Kf(r)&&Xf(t)}function Qf(t,r,o){return o(function(){Kf(r)&&Xf(t)})}function Kf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!zt(t,o)}catch{return!0}}function Xf(t){var r=cn(t,1);r!==null&&Bt(r,t,1,-1)}function Zf(t){var r=qt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r.queue=t,t=t.dispatch=ay.bind(null,xe,t),[r.memoizedState,t]}function Ui(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=xe.updateQueue,r===null?(r={lastEffect:null,stores:null},xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function qf(){return xt().memoizedState}function go(t,r,o,a){var c=qt();xe.flags|=t,c.memoizedState=Ui(1|r,o,void 0,a===void 0?null:a)}function vo(t,r,o,a){var c=xt();a=a===void 0?null:a;var f=void 0;if(be!==null){var m=be.memoizedState;if(f=m.destroy,a!==null&&Wa(a,m.deps)){c.memoizedState=Ui(r,o,f,a);return}}xe.flags|=t,c.memoizedState=Ui(1|r,o,f,a)}function Jf(t,r){return go(8390656,8,t,r)}function $a(t,r){return vo(2048,8,t,r)}function eh(t,r){return vo(4,2,t,r)}function th(t,r){return vo(4,4,t,r)}function nh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function rh(t,r,o){return o=o!=null?o.concat([t]):null,vo(4,4,nh.bind(null,r,t),o)}function Ga(){}function ih(t,r){var o=xt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&Wa(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function sh(t,r){var o=xt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&Wa(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function oh(t,r,o){return ir&21?(zt(o,r)||(o=Od(),xe.lanes|=o,sr|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=o)}function oy(t,r){var o=pe;pe=o!==0&&4>o?o:4,t(!0);var a=Va.transition;Va.transition={};try{t(!1),r()}finally{pe=o,Va.transition=a}}function lh(){return xt().memoizedState}function ly(t,r,o){var a=Fn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},ah(t))uh(r,o);else if(o=Vf(t,r,o,a),o!==null){var c=nt();Bt(o,t,a,c),ch(o,r,a)}}function ay(t,r,o){var a=Fn(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(ah(t))uh(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,y=f(m,o);if(c.hasEagerState=!0,c.eagerState=y,zt(y,m)){var S=r.interleaved;S===null?(c.next=c,Da(r)):(c.next=S.next,S.next=c),r.interleaved=c;return}}catch{}finally{}o=Vf(t,r,c,a),o!==null&&(c=nt(),Bt(o,t,a,c),ch(o,r,a))}}function ah(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function uh(t,r){zi=mo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ch(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Ql(t,o)}}var _o={readContext:Rt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},uy={readContext:Rt,useCallback:function(t,r){return qt().memoizedState=[t,r===void 0?null:r],t},useContext:Rt,useEffect:Jf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,go(4194308,4,nh.bind(null,r,t),o)},useLayoutEffect:function(t,r){return go(4194308,4,t,r)},useInsertionEffect:function(t,r){return go(4,2,t,r)},useMemo:function(t,r){var o=qt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=qt();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=ly.bind(null,xe,t),[a.memoizedState,t]},useRef:function(t){var r=qt();return t={current:t},r.memoizedState=t},useState:Zf,useDebugValue:Ga,useDeferredValue:function(t){return qt().memoizedState=t},useTransition:function(){var t=Zf(!1),r=t[0];return t=oy.bind(null,t[1]),qt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=xe,c=qt();if(Te){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),je===null)throw Error(i(349));ir&30||Gf(a,r,o)}c.memoizedState=o;var f={value:o,getSnapshot:r};return c.queue=f,Jf(Qf.bind(null,a,f,t),[t]),a.flags|=2048,Ui(9,Yf.bind(null,a,f,o,r),void 0,null),o},useId:function(){var t=qt(),r=je.identifierPrefix;if(Te){var o=un,a=an;o=(a&~(1<<32-bt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=Vi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=sy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},cy={readContext:Rt,useCallback:ih,useContext:Rt,useEffect:$a,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:Ba,useRef:qf,useState:function(){return Ba(Wi)},useDebugValue:Ga,useDeferredValue:function(t){var r=xt();return oh(r,be.memoizedState,t)},useTransition:function(){var t=Ba(Wi)[0],r=xt().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:$f,useId:lh,unstable_isNewReconciler:!1},dy={readContext:Rt,useCallback:ih,useContext:Rt,useEffect:$a,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:Ha,useRef:qf,useState:function(){return Ha(Wi)},useDebugValue:Ga,useDeferredValue:function(t){var r=xt();return be===null?r.memoizedState=t:oh(r,be.memoizedState,t)},useTransition:function(){var t=Ha(Wi)[0],r=xt().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:$f,useId:lh,unstable_isNewReconciler:!1};function Wt(t,r){if(t&&t.defaultProps){r=W({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ya(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:W({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var yo={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=nt(),c=Fn(t),f=dn(a,c);f.payload=r,o!=null&&(f.callback=o),r=Ln(t,f,c),r!==null&&(Bt(r,t,c,a),co(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=nt(),c=Fn(t),f=dn(a,c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ln(t,f,c),r!==null&&(Bt(r,t,c,a),co(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=nt(),a=Fn(t),c=dn(o,a);c.tag=2,r!=null&&(c.callback=r),r=Ln(t,c,a),r!==null&&(Bt(r,t,a,o),co(r,t,a))}};function dh(t,r,o,a,c,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,m):r.prototype&&r.prototype.isPureReactComponent?!Ni(o,a)||!Ni(c,f):!0}function fh(t,r,o){var a=!1,c=xn,f=r.contextType;return typeof f=="object"&&f!==null?f=Rt(f):(c=ut(r)?Jn:Ze.current,a=r.contextTypes,f=(a=a!=null)?Mr(t,c):xn),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=yo,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),r}function hh(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&yo.enqueueReplaceState(r,r.state,null)}function Qa(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Ma(t);var f=r.contextType;typeof f=="object"&&f!==null?c.context=Rt(f):(f=ut(r)?Jn:Ze.current,c.context=Mr(t,f)),c.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Ya(t,r,f,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&yo.enqueueReplaceState(c,c.state,null),fo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function jr(t,r){try{var o="",a=r;do o+=le(a),a=a.return;while(a);var c=o}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:c,digest:null}}function Ka(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Xa(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var fy=typeof WeakMap=="function"?WeakMap:Map;function ph(t,r,o){o=dn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){To||(To=!0,du=a),Xa(t,r)},o}function mh(t,r,o){o=dn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){Xa(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Xa(t,r),typeof a!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),o}function gh(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new fy;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=Ty.bind(null,t,r,o),r.then(t,t))}function vh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function _h(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dn(-1,1),r.tag=2,Ln(o,r,1))),o.lanes|=1),t)}var hy=X.ReactCurrentOwner,ct=!1;function tt(t,r,o,a){r.child=t===null?zf(r,null,o,a):zr(r,t.child,o,a)}function yh(t,r,o,a,c){o=o.render;var f=r.ref;return Wr(r,c),a=Ua(t,r,o,a,f,c),o=ja(),t!==null&&!ct?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fn(t,r,c)):(Te&&o&&Ia(r),r.flags|=1,tt(t,r,a,c),r.child)}function wh(t,r,o,a,c){if(t===null){var f=o.type;return typeof f=="function"&&!_u(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,Sh(t,r,f,a,c)):(t=Lo(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!(t.lanes&c)){var m=f.memoizedProps;if(o=o.compare,o=o!==null?o:Ni,o(m,a)&&t.ref===r.ref)return fn(t,r,c)}return r.flags|=1,t=zn(f,a),t.ref=r.ref,t.return=r,r.child=t}function Sh(t,r,o,a,c){if(t!==null){var f=t.memoizedProps;if(Ni(f,a)&&t.ref===r.ref)if(ct=!1,r.pendingProps=a=f,(t.lanes&c)!==0)t.flags&131072&&(ct=!0);else return r.lanes=t.lanes,fn(t,r,c)}return Za(t,r,o,a,c)}function Eh(t,r,o){var a=r.pendingProps,c=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Hr,Et),Et|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ye(Hr,Et),Et|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,ye(Hr,Et),Et|=a}else f!==null?(a=f.baseLanes|o,r.memoizedState=null):a=o,ye(Hr,Et),Et|=a;return tt(t,r,c,o),r.child}function Ch(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Za(t,r,o,a,c){var f=ut(o)?Jn:Ze.current;return f=Mr(r,f),Wr(r,c),o=Ua(t,r,o,a,f,c),a=ja(),t!==null&&!ct?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fn(t,r,c)):(Te&&a&&Ia(r),r.flags|=1,tt(t,r,o,c),r.child)}function Ih(t,r,o,a,c){if(ut(o)){var f=!0;no(r)}else f=!1;if(Wr(r,c),r.stateNode===null)So(t,r),fh(r,o,a),Qa(r,o,a,c),a=!0;else if(t===null){var m=r.stateNode,y=r.memoizedProps;m.props=y;var S=m.context,T=o.contextType;typeof T=="object"&&T!==null?T=Rt(T):(T=ut(o)?Jn:Ze.current,T=Mr(r,T));var P=o.getDerivedStateFromProps,A=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function";A||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==a||S!==T)&&hh(r,m,a,T),An=!1;var R=r.memoizedState;m.state=R,fo(r,a,m,c),S=r.memoizedState,y!==a||R!==S||at.current||An?(typeof P=="function"&&(Ya(r,o,P,a),S=r.memoizedState),(y=An||dh(r,o,y,a,R,S,T))?(A||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=S),m.props=a,m.state=S,m.context=T,a=y):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{m=r.stateNode,Wf(t,r),y=r.memoizedProps,T=r.type===r.elementType?y:Wt(r.type,y),m.props=T,A=r.pendingProps,R=m.context,S=o.contextType,typeof S=="object"&&S!==null?S=Rt(S):(S=ut(o)?Jn:Ze.current,S=Mr(r,S));var b=o.getDerivedStateFromProps;(P=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==A||R!==S)&&hh(r,m,a,S),An=!1,R=r.memoizedState,m.state=R,fo(r,a,m,c);var U=r.memoizedState;y!==A||R!==U||at.current||An?(typeof b=="function"&&(Ya(r,o,b,a),U=r.memoizedState),(T=An||dh(r,o,T,a,R,U,S)||!1)?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,U,S),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,U,S)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=U),m.props=a,m.state=U,m.context=S,a=T):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),a=!1)}return qa(t,r,o,a,f,c)}function qa(t,r,o,a,c,f){Ch(t,r);var m=(r.flags&128)!==0;if(!a&&!m)return c&&xf(r,o,!1),fn(t,r,f);a=r.stateNode,hy.current=r;var y=m&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&m?(r.child=zr(r,t.child,null,f),r.child=zr(r,null,y,f)):tt(t,r,y,f),r.memoizedState=a.state,c&&xf(r,o,!0),r.child}function kh(t){var r=t.stateNode;r.pendingContext?Nf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Nf(t,r.context,!1),Oa(t,r.containerInfo)}function Th(t,r,o,a,c){return br(),Ra(c),r.flags|=256,tt(t,r,o,a),r.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nh(t,r,o){var a=r.pendingProps,c=Re.current,f=!1,m=(r.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(c&2)!==0),y?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),ye(Re,c&1),t===null)return Na(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(m=a.children,t=a.fallback,f?(a=r.mode,f=r.child,m={mode:"hidden",children:m},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=Do(m,a,0,null),t=ur(t,a,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=eu(o),r.memoizedState=Ja,t):tu(r,m));if(c=t.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return py(t,r,m,a,y,c,o);if(f){f=a.fallback,m=r.mode,c=t.child,y=c.sibling;var S={mode:"hidden",children:a.children};return!(m&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=S,r.deletions=null):(a=zn(c,S),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?f=zn(y,f):(f=ur(f,m,o,null),f.flags|=2),f.return=r,a.return=r,a.sibling=f,r.child=a,a=f,f=r.child,m=t.child.memoizedState,m=m===null?eu(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=t.childLanes&~o,r.memoizedState=Ja,a}return f=t.child,t=f.sibling,a=zn(f,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function tu(t,r){return r=Do({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function wo(t,r,o,a){return a!==null&&Ra(a),zr(r,t.child,null,o),t=tu(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function py(t,r,o,a,c,f,m){if(o)return r.flags&256?(r.flags&=-257,a=Ka(Error(i(422))),wo(t,r,m,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=a.fallback,c=r.mode,a=Do({mode:"visible",children:a.children},c,0,null),f=ur(f,c,m,null),f.flags|=2,a.return=r,f.return=r,a.sibling=f,r.child=a,r.mode&1&&zr(r,t.child,null,m),r.child.memoizedState=eu(m),r.memoizedState=Ja,f);if(!(r.mode&1))return wo(t,r,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(i(419)),a=Ka(f,a,void 0),wo(t,r,m,a)}if(y=(m&t.childLanes)!==0,ct||y){if(a=je,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,cn(t,c),Bt(a,t,c,-1))}return vu(),a=Ka(Error(i(421))),wo(t,r,m,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=Ny.bind(null,t),c._reactRetry=r,null):(t=f.treeContext,St=Nn(c.nextSibling),wt=r,Te=!0,Vt=null,t!==null&&(Tt[Nt++]=an,Tt[Nt++]=un,Tt[Nt++]=er,an=t.id,un=t.overflow,er=r),r=tu(r,a.children),r.flags|=4096,r)}function Rh(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),La(t.return,r,o)}function nu(t,r,o,a,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=c)}function xh(t,r,o){var a=r.pendingProps,c=a.revealOrder,f=a.tail;if(tt(t,r,a.children,o),a=Re.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rh(t,o,r);else if(t.tag===19)Rh(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ye(Re,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&ho(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),nu(r,!1,c,o,f);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&ho(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}nu(r,!0,o,null,f);break;case"together":nu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function So(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),sr|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,o=zn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=zn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function my(t,r,o){switch(r.tag){case 3:kh(r),br();break;case 5:Bf(r);break;case 1:ut(r.type)&&no(r);break;case 4:Oa(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;ye(ao,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(ye(Re,Re.current&1),r.flags|=128,null):o&r.child.childLanes?Nh(t,r,o):(ye(Re,Re.current&1),t=fn(t,r,o),t!==null?t.sibling:null);ye(Re,Re.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return xh(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ye(Re,Re.current),a)break;return null;case 22:case 23:return r.lanes=0,Eh(t,r,o)}return fn(t,r,o)}var Ph,ru,Ah,Lh;Ph=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ru=function(){},Ah=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,rr(Zt.current);var f=null;switch(o){case"input":c=Ll(t,c),a=Ll(t,a),f=[];break;case"select":c=W({},c,{value:void 0}),a=W({},a,{value:void 0}),f=[];break;case"textarea":c=Ol(t,c),a=Ol(t,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Js)}bl(o,a);var m;o=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var y=c[T];for(m in y)y.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in a){var S=a[T];if(y=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&S!==y&&(S!=null||y!=null))if(T==="style")if(y){for(m in y)!y.hasOwnProperty(m)||S&&S.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in S)S.hasOwnProperty(m)&&y[m]!==S[m]&&(o||(o={}),o[m]=S[m])}else o||(f||(f=[]),f.push(T,o)),o=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,y=y?y.__html:void 0,S!=null&&y!==S&&(f=f||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&Ce("scroll",t),f||y===S||(f=[])):(f=f||[]).push(T,S))}o&&(f=f||[]).push("style",o);var T=f;(r.updateQueue=T)&&(r.flags|=4)}},Lh=function(t,r,o,a){o!==a&&(r.flags|=4)};function ji(t,r){if(!Te)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Je(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function gy(t,r,o){var a=r.pendingProps;switch(ka(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(r),null;case 1:return ut(r.type)&&to(),Je(r),null;case 3:return a=r.stateNode,Ur(),Ie(at),Ie(Ze),za(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(oo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Vt!==null&&(pu(Vt),Vt=null))),ru(t,r),Je(r),null;case 5:Fa(r);var c=rr(bi.current);if(o=r.type,t!==null&&r.stateNode!=null)Ah(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(i(166));return Je(r),null}if(t=rr(Zt.current),oo(r)){a=r.stateNode,o=r.type;var f=r.memoizedProps;switch(a[Xt]=r,a[Li]=f,t=(r.mode&1)!==0,o){case"dialog":Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":case"embed":Ce("load",a);break;case"video":case"audio":for(c=0;c<xi.length;c++)Ce(xi[c],a);break;case"source":Ce("error",a);break;case"img":case"image":case"link":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"input":dd(a,f),Ce("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ce("invalid",a);break;case"textarea":pd(a,f),Ce("invalid",a)}bl(o,f),c=null;for(var m in f)if(f.hasOwnProperty(m)){var y=f[m];m==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&qs(a.textContent,y,t),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&qs(a.textContent,y,t),c=["children",""+y]):l.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&Ce("scroll",a)}switch(o){case"input":xs(a),hd(a,f,!0);break;case"textarea":xs(a),gd(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Js)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=m.createElement(o,{is:a.is}):(t=m.createElement(o),o==="select"&&(m=t,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):t=m.createElementNS(t,o),t[Xt]=r,t[Li]=a,Ph(t,r,!1,!1),r.stateNode=t;e:{switch(m=zl(o,a),o){case"dialog":Ce("cancel",t),Ce("close",t),c=a;break;case"iframe":case"object":case"embed":Ce("load",t),c=a;break;case"video":case"audio":for(c=0;c<xi.length;c++)Ce(xi[c],t);c=a;break;case"source":Ce("error",t),c=a;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),c=a;break;case"details":Ce("toggle",t),c=a;break;case"input":dd(t,a),c=Ll(t,a),Ce("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=W({},a,{value:void 0}),Ce("invalid",t);break;case"textarea":pd(t,a),c=Ol(t,a),Ce("invalid",t);break;default:c=a}bl(o,c),y=c;for(f in y)if(y.hasOwnProperty(f)){var S=y[f];f==="style"?wd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&_d(t,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&ci(t,S):typeof S=="number"&&ci(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Ce("scroll",t):S!=null&&se(t,f,S,m))}switch(o){case"input":xs(t),hd(t,a,!1);break;case"textarea":xs(t),gd(t);break;case"option":a.value!=null&&t.setAttribute("value",""+he(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Er(t,!!a.multiple,f,!1):a.defaultValue!=null&&Er(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=Js)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Je(r),null;case 6:if(t&&r.stateNode!=null)Lh(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(i(166));if(o=rr(bi.current),rr(Zt.current),oo(r)){if(a=r.stateNode,o=r.memoizedProps,a[Xt]=r,(f=a.nodeValue!==o)&&(t=wt,t!==null))switch(t.tag){case 3:qs(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qs(a.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Xt]=r,r.stateNode=a}return Je(r),null;case 13:if(Ie(Re),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&St!==null&&r.mode&1&&!(r.flags&128))Of(),br(),r.flags|=98560,f=!1;else if(f=oo(r),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Xt]=r}else br(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Je(r),f=!1}else Vt!==null&&(pu(Vt),Vt=null),f=!0;if(!f)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Re.current&1?ze===0&&(ze=3):vu())),r.updateQueue!==null&&(r.flags|=4),Je(r),null);case 4:return Ur(),ru(t,r),t===null&&Pi(r.stateNode.containerInfo),Je(r),null;case 10:return Aa(r.type._context),Je(r),null;case 17:return ut(r.type)&&to(),Je(r),null;case 19:if(Ie(Re),f=r.memoizedState,f===null)return Je(r),null;if(a=(r.flags&128)!==0,m=f.rendering,m===null)if(a)ji(f,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(m=ho(t),m!==null){for(r.flags|=128,ji(f,!1),a=m.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)f=o,t=a,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,t=m.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ye(Re,Re.current&1|2),r.child}t=t.sibling}f.tail!==null&&Me()>$r&&(r.flags|=128,a=!0,ji(f,!1),r.lanes=4194304)}else{if(!a)if(t=ho(m),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ji(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Te)return Je(r),null}else 2*Me()-f.renderingStartTime>$r&&o!==1073741824&&(r.flags|=128,a=!0,ji(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(o=f.last,o!==null?o.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Me(),r.sibling=null,o=Re.current,ye(Re,a?o&1|2:o&1),r):(Je(r),null);case 22:case 23:return gu(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Et&1073741824&&(Je(r),r.subtreeFlags&6&&(r.flags|=8192)):Je(r),null;case 24:return null;case 25:return null}throw Error(i(156,r.tag))}function vy(t,r){switch(ka(r),r.tag){case 1:return ut(r.type)&&to(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ur(),Ie(at),Ie(Ze),za(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Fa(r),null;case 13:if(Ie(Re),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));br()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ie(Re),null;case 4:return Ur(),null;case 10:return Aa(r.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Eo=!1,et=!1,_y=typeof WeakSet=="function"?WeakSet:Set,z=null;function Br(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ae(t,r,a)}else o.current=null}function iu(t,r,o){try{o()}catch(a){Ae(t,r,a)}}var Dh=!1;function yy(t,r){if(ga=Us,t=df(),aa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var m=0,y=-1,S=-1,T=0,P=0,A=t,R=null;t:for(;;){for(var b;A!==o||c!==0&&A.nodeType!==3||(y=m+c),A!==f||a!==0&&A.nodeType!==3||(S=m+a),A.nodeType===3&&(m+=A.nodeValue.length),(b=A.firstChild)!==null;)R=A,A=b;for(;;){if(A===t)break t;if(R===o&&++T===c&&(y=m),R===f&&++P===a&&(S=m),(b=A.nextSibling)!==null)break;A=R,R=A.parentNode}A=b}o=y===-1||S===-1?null:{start:y,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(va={focusedElem:t,selectionRange:o},Us=!1,z=r;z!==null;)if(r=z,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,z=t;else for(;z!==null;){r=z;try{var U=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var j=U.memoizedProps,Oe=U.memoizedState,I=r.stateNode,E=I.getSnapshotBeforeUpdate(r.elementType===r.type?j:Wt(r.type,j),Oe);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=r.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(D){Ae(r,r.return,D)}if(t=r.sibling,t!==null){t.return=r.return,z=t;break}z=r.return}return U=Dh,Dh=!1,U}function Bi(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&iu(r,o,f)}c=c.next}while(c!==a)}}function Co(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function su(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Mh(t){var r=t.alternate;r!==null&&(t.alternate=null,Mh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xt],delete r[Li],delete r[Sa],delete r[ty],delete r[ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Oh(t){return t.tag===5||t.tag===3||t.tag===4}function Fh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ou(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Js));else if(a!==4&&(t=t.child,t!==null))for(ou(t,r,o),t=t.sibling;t!==null;)ou(t,r,o),t=t.sibling}function lu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(lu(t,r,o),t=t.sibling;t!==null;)lu(t,r,o),t=t.sibling}var Ge=null,Ut=!1;function Dn(t,r,o){for(o=o.child;o!==null;)bh(t,r,o),o=o.sibling}function bh(t,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Os,o)}catch{}switch(o.tag){case 5:et||Br(o,r);case 6:var a=Ge,c=Ut;Ge=null,Dn(t,r,o),Ge=a,Ut=c,Ge!==null&&(Ut?(t=Ge,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ge.removeChild(o.stateNode));break;case 18:Ge!==null&&(Ut?(t=Ge,o=o.stateNode,t.nodeType===8?wa(t.parentNode,o):t.nodeType===1&&wa(t,o),Si(t)):wa(Ge,o.stateNode));break;case 4:a=Ge,c=Ut,Ge=o.stateNode.containerInfo,Ut=!0,Dn(t,r,o),Ge=a,Ut=c;break;case 0:case 11:case 14:case 15:if(!et&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&iu(o,r,m),c=c.next}while(c!==a)}Dn(t,r,o);break;case 1:if(!et&&(Br(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(y){Ae(o,r,y)}Dn(t,r,o);break;case 21:Dn(t,r,o);break;case 22:o.mode&1?(et=(a=et)||o.memoizedState!==null,Dn(t,r,o),et=a):Dn(t,r,o);break;default:Dn(t,r,o)}}function zh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new _y),r.forEach(function(a){var c=Ry.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function jt(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var f=t,m=r,y=m;e:for(;y!==null;){switch(y.tag){case 5:Ge=y.stateNode,Ut=!1;break e;case 3:Ge=y.stateNode.containerInfo,Ut=!0;break e;case 4:Ge=y.stateNode.containerInfo,Ut=!0;break e}y=y.return}if(Ge===null)throw Error(i(160));bh(f,m,c),Ge=null,Ut=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(T){Ae(c,r,T)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Vh(r,t),r=r.sibling}function Vh(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(r,t),Jt(t),a&4){try{Bi(3,t,t.return),Co(3,t)}catch(j){Ae(t,t.return,j)}try{Bi(5,t,t.return)}catch(j){Ae(t,t.return,j)}}break;case 1:jt(r,t),Jt(t),a&512&&o!==null&&Br(o,o.return);break;case 5:if(jt(r,t),Jt(t),a&512&&o!==null&&Br(o,o.return),t.flags&32){var c=t.stateNode;try{ci(c,"")}catch(j){Ae(t,t.return,j)}}if(a&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,m=o!==null?o.memoizedProps:f,y=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&fd(c,f),zl(y,m);var T=zl(y,f);for(m=0;m<S.length;m+=2){var P=S[m],A=S[m+1];P==="style"?wd(c,A):P==="dangerouslySetInnerHTML"?_d(c,A):P==="children"?ci(c,A):se(c,P,A,T)}switch(y){case"input":Dl(c,f);break;case"textarea":md(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var b=f.value;b!=null?Er(c,!!f.multiple,b,!1):R!==!!f.multiple&&(f.defaultValue!=null?Er(c,!!f.multiple,f.defaultValue,!0):Er(c,!!f.multiple,f.multiple?[]:"",!1))}c[Li]=f}catch(j){Ae(t,t.return,j)}}break;case 6:if(jt(r,t),Jt(t),a&4){if(t.stateNode===null)throw Error(i(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(j){Ae(t,t.return,j)}}break;case 3:if(jt(r,t),Jt(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Si(r.containerInfo)}catch(j){Ae(t,t.return,j)}break;case 4:jt(r,t),Jt(t);break;case 13:jt(r,t),Jt(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(cu=Me())),a&4&&zh(t);break;case 22:if(P=o!==null&&o.memoizedState!==null,t.mode&1?(et=(T=et)||P,jt(r,t),et=T):jt(r,t),Jt(t),a&8192){if(T=t.memoizedState!==null,(t.stateNode.isHidden=T)&&!P&&t.mode&1)for(z=t,P=t.child;P!==null;){for(A=z=P;z!==null;){switch(R=z,b=R.child,R.tag){case 0:case 11:case 14:case 15:Bi(4,R,R.return);break;case 1:Br(R,R.return);var U=R.stateNode;if(typeof U.componentWillUnmount=="function"){a=R,o=R.return;try{r=a,U.props=r.memoizedProps,U.state=r.memoizedState,U.componentWillUnmount()}catch(j){Ae(a,o,j)}}break;case 5:Br(R,R.return);break;case 22:if(R.memoizedState!==null){jh(A);continue}}b!==null?(b.return=R,z=b):jh(A)}P=P.sibling}e:for(P=null,A=t;;){if(A.tag===5){if(P===null){P=A;try{c=A.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=A.stateNode,S=A.memoizedProps.style,m=S!=null&&S.hasOwnProperty("display")?S.display:null,y.style.display=yd("display",m))}catch(j){Ae(t,t.return,j)}}}else if(A.tag===6){if(P===null)try{A.stateNode.nodeValue=T?"":A.memoizedProps}catch(j){Ae(t,t.return,j)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;P===A&&(P=null),A=A.return}P===A&&(P=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:jt(r,t),Jt(t),a&4&&zh(t);break;case 21:break;default:jt(r,t),Jt(t)}}function Jt(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Oh(o)){var a=o;break e}o=o.return}throw Error(i(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ci(c,""),a.flags&=-33);var f=Fh(t);lu(t,f,c);break;case 3:case 4:var m=a.stateNode.containerInfo,y=Fh(t);ou(t,y,m);break;default:throw Error(i(161))}}catch(S){Ae(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function wy(t,r,o){z=t,Wh(t)}function Wh(t,r,o){for(var a=(t.mode&1)!==0;z!==null;){var c=z,f=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||Eo;if(!m){var y=c.alternate,S=y!==null&&y.memoizedState!==null||et;y=Eo;var T=et;if(Eo=m,(et=S)&&!T)for(z=c;z!==null;)m=z,S=m.child,m.tag===22&&m.memoizedState!==null?Bh(c):S!==null?(S.return=m,z=S):Bh(c);for(;f!==null;)z=f,Wh(f),f=f.sibling;z=c,Eo=y,et=T}Uh(t)}else c.subtreeFlags&8772&&f!==null?(f.return=c,z=f):Uh(t)}}function Uh(t){for(;z!==null;){var r=z;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:et||Co(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!et)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Wt(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&jf(r,f,a);break;case 3:var m=r.updateQueue;if(m!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}jf(r,m,o)}break;case 5:var y=r.stateNode;if(o===null&&r.flags&4){o=y;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var T=r.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var A=P.dehydrated;A!==null&&Si(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}et||r.flags&512&&su(r)}catch(R){Ae(r,r.return,R)}}if(r===t){z=null;break}if(o=r.sibling,o!==null){o.return=r.return,z=o;break}z=r.return}}function jh(t){for(;z!==null;){var r=z;if(r===t){z=null;break}var o=r.sibling;if(o!==null){o.return=r.return,z=o;break}z=r.return}}function Bh(t){for(;z!==null;){var r=z;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Co(4,r)}catch(S){Ae(r,o,S)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(S){Ae(r,c,S)}}var f=r.return;try{su(r)}catch(S){Ae(r,f,S)}break;case 5:var m=r.return;try{su(r)}catch(S){Ae(r,m,S)}}}catch(S){Ae(r,r.return,S)}if(r===t){z=null;break}var y=r.sibling;if(y!==null){y.return=r.return,z=y;break}z=r.return}}var Sy=Math.ceil,Io=X.ReactCurrentDispatcher,au=X.ReactCurrentOwner,Pt=X.ReactCurrentBatchConfig,oe=0,je=null,Fe=null,Ye=0,Et=0,Hr=Rn(0),ze=0,Hi=null,sr=0,ko=0,uu=0,$i=null,dt=null,cu=0,$r=1/0,hn=null,To=!1,du=null,Mn=null,No=!1,On=null,Ro=0,Gi=0,fu=null,xo=-1,Po=0;function nt(){return oe&6?Me():xo!==-1?xo:xo=Me()}function Fn(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:iy.transition!==null?(Po===0&&(Po=Od()),Po):(t=pe,t!==0||(t=window.event,t=t===void 0?16:Hd(t.type)),t):1}function Bt(t,r,o,a){if(50<Gi)throw Gi=0,fu=null,Error(i(185));gi(t,o,a),(!(oe&2)||t!==je)&&(t===je&&(!(oe&2)&&(ko|=o),ze===4&&bn(t,Ye)),ft(t,a),o===1&&oe===0&&!(r.mode&1)&&($r=Me()+500,ro&&Pn()))}function ft(t,r){var o=t.callbackNode;i_(t,r);var a=zs(t,t===je?Ye:0);if(a===0)o!==null&&Ld(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&Ld(o),r===1)t.tag===0?ry($h.bind(null,t)):Pf($h.bind(null,t)),J_(function(){!(oe&6)&&Pn()}),o=null;else{switch(Fd(a)){case 1:o=$l;break;case 4:o=Dd;break;case 16:o=Ms;break;case 536870912:o=Md;break;default:o=Ms}o=Jh(o,Hh.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Hh(t,r){if(xo=-1,Po=0,oe&6)throw Error(i(327));var o=t.callbackNode;if(Gr()&&t.callbackNode!==o)return null;var a=zs(t,t===je?Ye:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=Ao(t,a);else{r=a;var c=oe;oe|=2;var f=Yh();(je!==t||Ye!==r)&&(hn=null,$r=Me()+500,lr(t,r));do try{Iy();break}catch(y){Gh(t,y)}while(!0);Pa(),Io.current=f,oe=c,Fe!==null?r=0:(je=null,Ye=0,r=ze)}if(r!==0){if(r===2&&(c=Gl(t),c!==0&&(a=c,r=hu(t,c))),r===1)throw o=Hi,lr(t,0),bn(t,a),ft(t,Me()),o;if(r===6)bn(t,a);else{if(c=t.current.alternate,!(a&30)&&!Ey(c)&&(r=Ao(t,a),r===2&&(f=Gl(t),f!==0&&(a=f,r=hu(t,f))),r===1))throw o=Hi,lr(t,0),bn(t,a),ft(t,Me()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(i(345));case 2:ar(t,dt,hn);break;case 3:if(bn(t,a),(a&130023424)===a&&(r=cu+500-Me(),10<r)){if(zs(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){nt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=ya(ar.bind(null,t,dt,hn),r);break}ar(t,dt,hn);break;case 4:if(bn(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var m=31-bt(a);f=1<<m,m=r[m],m>c&&(c=m),a&=~f}if(a=c,a=Me()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sy(a/1960))-a,10<a){t.timeoutHandle=ya(ar.bind(null,t,dt,hn),a);break}ar(t,dt,hn);break;case 5:ar(t,dt,hn);break;default:throw Error(i(329))}}}return ft(t,Me()),t.callbackNode===o?Hh.bind(null,t):null}function hu(t,r){var o=$i;return t.current.memoizedState.isDehydrated&&(lr(t,r).flags|=256),t=Ao(t,r),t!==2&&(r=dt,dt=o,r!==null&&pu(r)),t}function pu(t){dt===null?dt=t:dt.push.apply(dt,t)}function Ey(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],f=c.getSnapshot;c=c.value;try{if(!zt(f(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bn(t,r){for(r&=~uu,r&=~ko,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),a=1<<o;t[o]=-1,r&=~a}}function $h(t){if(oe&6)throw Error(i(327));Gr();var r=zs(t,0);if(!(r&1))return ft(t,Me()),null;var o=Ao(t,r);if(t.tag!==0&&o===2){var a=Gl(t);a!==0&&(r=a,o=hu(t,a))}if(o===1)throw o=Hi,lr(t,0),bn(t,r),ft(t,Me()),o;if(o===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ar(t,dt,hn),ft(t,Me()),null}function mu(t,r){var o=oe;oe|=1;try{return t(r)}finally{oe=o,oe===0&&($r=Me()+500,ro&&Pn())}}function or(t){On!==null&&On.tag===0&&!(oe&6)&&Gr();var r=oe;oe|=1;var o=Pt.transition,a=pe;try{if(Pt.transition=null,pe=1,t)return t()}finally{pe=a,Pt.transition=o,oe=r,!(oe&6)&&Pn()}}function gu(){Et=Hr.current,Ie(Hr)}function lr(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,q_(o)),Fe!==null)for(o=Fe.return;o!==null;){var a=o;switch(ka(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&to();break;case 3:Ur(),Ie(at),Ie(Ze),za();break;case 5:Fa(a);break;case 4:Ur();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:Aa(a.type._context);break;case 22:case 23:gu()}o=o.return}if(je=t,Fe=t=zn(t.current,null),Ye=Et=r,ze=0,Hi=null,uu=ko=sr=0,dt=$i=null,nr!==null){for(r=0;r<nr.length;r++)if(o=nr[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,f=o.pending;if(f!==null){var m=f.next;f.next=c,a.next=m}o.pending=a}nr=null}return t}function Gh(t,r){do{var o=Fe;try{if(Pa(),po.current=_o,mo){for(var a=xe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}mo=!1}if(ir=0,Ue=be=xe=null,zi=!1,Vi=0,au.current=null,o===null||o.return===null){ze=1,Hi=r,Fe=null;break}e:{var f=t,m=o.return,y=o,S=r;if(r=Ye,y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,P=y,A=P.tag;if(!(P.mode&1)&&(A===0||A===11||A===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var b=vh(m);if(b!==null){b.flags&=-257,_h(b,m,y,f,r),b.mode&1&&gh(f,T,r),r=b,S=T;var U=r.updateQueue;if(U===null){var j=new Set;j.add(S),r.updateQueue=j}else U.add(S);break e}else{if(!(r&1)){gh(f,T,r),vu();break e}S=Error(i(426))}}else if(Te&&y.mode&1){var Oe=vh(m);if(Oe!==null){!(Oe.flags&65536)&&(Oe.flags|=256),_h(Oe,m,y,f,r),Ra(jr(S,y));break e}}f=S=jr(S,y),ze!==4&&(ze=2),$i===null?$i=[f]:$i.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var I=ph(f,S,r);Uf(f,I);break e;case 1:y=S;var E=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Mn===null||!Mn.has(k)))){f.flags|=65536,r&=-r,f.lanes|=r;var D=mh(f,y,r);Uf(f,D);break e}}f=f.return}while(f!==null)}Kh(o)}catch(B){r=B,Fe===o&&o!==null&&(Fe=o=o.return);continue}break}while(!0)}function Yh(){var t=Io.current;return Io.current=_o,t===null?_o:t}function vu(){(ze===0||ze===3||ze===2)&&(ze=4),je===null||!(sr&268435455)&&!(ko&268435455)||bn(je,Ye)}function Ao(t,r){var o=oe;oe|=2;var a=Yh();(je!==t||Ye!==r)&&(hn=null,lr(t,r));do try{Cy();break}catch(c){Gh(t,c)}while(!0);if(Pa(),oe=o,Io.current=a,Fe!==null)throw Error(i(261));return je=null,Ye=0,ze}function Cy(){for(;Fe!==null;)Qh(Fe)}function Iy(){for(;Fe!==null&&!Kv();)Qh(Fe)}function Qh(t){var r=qh(t.alternate,t,Et);t.memoizedProps=t.pendingProps,r===null?Kh(t):Fe=r,au.current=null}function Kh(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=vy(o,r),o!==null){o.flags&=32767,Fe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Fe=null;return}}else if(o=gy(o,r,Et),o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);ze===0&&(ze=5)}function ar(t,r,o){var a=pe,c=Pt.transition;try{Pt.transition=null,pe=1,ky(t,r,o,a)}finally{Pt.transition=c,pe=a}return null}function ky(t,r,o,a){do Gr();while(On!==null);if(oe&6)throw Error(i(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(s_(t,f),t===je&&(Fe=je=null,Ye=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||No||(No=!0,Jh(Ms,function(){return Gr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=Pt.transition,Pt.transition=null;var m=pe;pe=1;var y=oe;oe|=4,au.current=null,yy(t,o),Vh(o,t),$_(va),Us=!!ga,va=ga=null,t.current=o,wy(o),Xv(),oe=y,pe=m,Pt.transition=f}else t.current=o;if(No&&(No=!1,On=t,Ro=c),f=t.pendingLanes,f===0&&(Mn=null),Jv(o.stateNode),ft(t,Me()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(To)throw To=!1,t=du,du=null,t;return Ro&1&&t.tag!==0&&Gr(),f=t.pendingLanes,f&1?t===fu?Gi++:(Gi=0,fu=t):Gi=0,Pn(),null}function Gr(){if(On!==null){var t=Fd(Ro),r=Pt.transition,o=pe;try{if(Pt.transition=null,pe=16>t?16:t,On===null)var a=!1;else{if(t=On,On=null,Ro=0,oe&6)throw Error(i(331));var c=oe;for(oe|=4,z=t.current;z!==null;){var f=z,m=f.child;if(z.flags&16){var y=f.deletions;if(y!==null){for(var S=0;S<y.length;S++){var T=y[S];for(z=T;z!==null;){var P=z;switch(P.tag){case 0:case 11:case 15:Bi(8,P,f)}var A=P.child;if(A!==null)A.return=P,z=A;else for(;z!==null;){P=z;var R=P.sibling,b=P.return;if(Mh(P),P===T){z=null;break}if(R!==null){R.return=b,z=R;break}z=b}}}var U=f.alternate;if(U!==null){var j=U.child;if(j!==null){U.child=null;do{var Oe=j.sibling;j.sibling=null,j=Oe}while(j!==null)}}z=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,z=m;else e:for(;z!==null;){if(f=z,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Bi(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,z=I;break e}z=f.return}}var E=t.current;for(z=E;z!==null;){m=z;var k=m.child;if(m.subtreeFlags&2064&&k!==null)k.return=m,z=k;else e:for(m=E;z!==null;){if(y=z,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Co(9,y)}}catch(B){Ae(y,y.return,B)}if(y===m){z=null;break e}var D=y.sibling;if(D!==null){D.return=y.return,z=D;break e}z=y.return}}if(oe=c,Pn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Os,t)}catch{}a=!0}return a}finally{pe=o,Pt.transition=r}}return!1}function Xh(t,r,o){r=jr(o,r),r=ph(t,r,1),t=Ln(t,r,1),r=nt(),t!==null&&(gi(t,1,r),ft(t,r))}function Ae(t,r,o){if(t.tag===3)Xh(t,t,o);else for(;r!==null;){if(r.tag===3){Xh(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Mn===null||!Mn.has(a))){t=jr(o,t),t=mh(r,t,1),r=Ln(r,t,1),t=nt(),r!==null&&(gi(r,1,t),ft(r,t));break}}r=r.return}}function Ty(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=nt(),t.pingedLanes|=t.suspendedLanes&o,je===t&&(Ye&o)===o&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Me()-cu?lr(t,0):uu|=o),ft(t,r)}function Zh(t,r){r===0&&(t.mode&1?(r=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):r=1);var o=nt();t=cn(t,r),t!==null&&(gi(t,r,o),ft(t,o))}function Ny(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Zh(t,o)}function Ry(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(r),Zh(t,o)}var qh;qh=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||at.current)ct=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return ct=!1,my(t,r,o);ct=!!(t.flags&131072)}else ct=!1,Te&&r.flags&1048576&&Af(r,so,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;So(t,r),t=r.pendingProps;var c=Mr(r,Ze.current);Wr(r,o),c=Ua(null,r,a,t,c,o);var f=ja();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ut(a)?(f=!0,no(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ma(r),c.updater=yo,r.stateNode=c,c._reactInternals=r,Qa(r,a,t,o),r=qa(null,r,a,!0,f,o)):(r.tag=0,Te&&f&&Ia(r),tt(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(So(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=Py(a),t=Wt(a,t),c){case 0:r=Za(null,r,a,t,o);break e;case 1:r=Ih(null,r,a,t,o);break e;case 11:r=yh(null,r,a,t,o);break e;case 14:r=wh(null,r,a,Wt(a.type,t),o);break e}throw Error(i(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),Za(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),Ih(t,r,a,c,o);case 3:e:{if(kh(r),t===null)throw Error(i(387));a=r.pendingProps,f=r.memoizedState,c=f.element,Wf(t,r),fo(r,a,null,o);var m=r.memoizedState;if(a=m.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=jr(Error(i(423)),r),r=Th(t,r,a,o,c);break e}else if(a!==c){c=jr(Error(i(424)),r),r=Th(t,r,a,o,c);break e}else for(St=Nn(r.stateNode.containerInfo.firstChild),wt=r,Te=!0,Vt=null,o=zf(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(br(),a===c){r=fn(t,r,o);break e}tt(t,r,a,o)}r=r.child}return r;case 5:return Bf(r),t===null&&Na(r),a=r.type,c=r.pendingProps,f=t!==null?t.memoizedProps:null,m=c.children,_a(a,c)?m=null:f!==null&&_a(a,f)&&(r.flags|=32),Ch(t,r),tt(t,r,m,o),r.child;case 6:return t===null&&Na(r),null;case 13:return Nh(t,r,o);case 4:return Oa(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=zr(r,null,a,o):tt(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),yh(t,r,a,c,o);case 7:return tt(t,r,r.pendingProps,o),r.child;case 8:return tt(t,r,r.pendingProps.children,o),r.child;case 12:return tt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,f=r.memoizedProps,m=c.value,ye(ao,a._currentValue),a._currentValue=m,f!==null)if(zt(f.value,m)){if(f.children===c.children&&!at.current){r=fn(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){m=f.child;for(var S=y.firstContext;S!==null;){if(S.context===a){if(f.tag===1){S=dn(-1,o&-o),S.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?S.next=S:(S.next=P.next,P.next=S),T.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),La(f.return,o,r),y.lanes|=o;break}S=S.next}}else if(f.tag===10)m=f.type===r.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(i(341));m.lanes|=o,y=m.alternate,y!==null&&(y.lanes|=o),La(m,o,r),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===r){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}tt(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Wr(r,o),c=Rt(c),a=a(c),r.flags|=1,tt(t,r,a,o),r.child;case 14:return a=r.type,c=Wt(a,r.pendingProps),c=Wt(a.type,c),wh(t,r,a,c,o);case 15:return Sh(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),So(t,r),r.tag=1,ut(a)?(t=!0,no(r)):t=!1,Wr(r,o),fh(r,a,c),Qa(r,a,c,o),qa(null,r,a,!0,t,o);case 19:return xh(t,r,o);case 22:return Eh(t,r,o)}throw Error(i(156,r.tag))};function Jh(t,r){return Ad(t,r)}function xy(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,r,o,a){return new xy(t,r,o,a)}function _u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Py(t){if(typeof t=="function")return _u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gt)return 11;if(t===Qt)return 14}return 2}function zn(t,r){var o=t.alternate;return o===null?(o=At(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Lo(t,r,o,a,c,f){var m=2;if(a=t,typeof t=="function")_u(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case de:return ur(o.children,c,f,r);case Z:m=8,c|=8;break;case Ot:return t=At(12,o,r,c|2),t.elementType=Ot,t.lanes=f,t;case Xe:return t=At(13,o,r,c),t.elementType=Xe,t.lanes=f,t;case vt:return t=At(19,o,r,c),t.elementType=vt,t.lanes=f,t;case Pe:return Do(o,c,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kt:m=10;break e;case Ft:m=9;break e;case gt:m=11;break e;case Qt:m=14;break e;case lt:m=16,a=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return r=At(m,o,r,c),r.elementType=t,r.type=a,r.lanes=f,r}function ur(t,r,o,a){return t=At(7,t,a,r),t.lanes=o,t}function Do(t,r,o,a){return t=At(22,t,a,r),t.elementType=Pe,t.lanes=o,t.stateNode={isHidden:!1},t}function yu(t,r,o){return t=At(6,t,null,r),t.lanes=o,t}function wu(t,r,o){return r=At(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ay(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Su(t,r,o,a,c,f,m,y,S){return t=new Ay(t,r,o,y,S),r===1?(r=1,f===!0&&(r|=8)):r=0,f=At(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(f),t}function Ly(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function ep(t){if(!t)return xn;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error(i(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ut(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(i(171))}if(t.tag===1){var o=t.type;if(ut(o))return Rf(t,o,r)}return r}function tp(t,r,o,a,c,f,m,y,S){return t=Su(o,a,!0,t,c,f,m,y,S),t.context=ep(null),o=t.current,a=nt(),c=Fn(o),f=dn(a,c),f.callback=r??null,Ln(o,f,c),t.current.lanes=c,gi(t,c,a),ft(t,a),t}function Mo(t,r,o,a){var c=r.current,f=nt(),m=Fn(c);return o=ep(o),r.context===null?r.context=o:r.pendingContext=o,r=dn(f,m),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=Ln(c,r,m),t!==null&&(Bt(t,c,m,f),co(t,c,m)),m}function Oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Eu(t,r){np(t,r),(t=t.alternate)&&np(t,r)}var rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cu(t){this._internalRoot=t}Fo.prototype.render=Cu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));Mo(t,r,null,null)},Fo.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;or(function(){Mo(null,t,null,null)}),r[on]=null}};function Fo(t){this._internalRoot=t}Fo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Vd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<In.length&&r!==0&&r<In[o].priority;o++);In.splice(o,0,t),o===0&&jd(t)}};function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function Dy(t,r,o,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var T=Oo(m);f.call(T)}}var m=tp(r,a,t,0,null,!1,!1,"",ip);return t._reactRootContainer=m,t[on]=m.current,Pi(t.nodeType===8?t.parentNode:t),or(),m}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var T=Oo(S);y.call(T)}}var S=Su(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=S,t[on]=S.current,Pi(t.nodeType===8?t.parentNode:t),or(function(){Mo(r,S,o,a)}),S}function zo(t,r,o,a,c){var f=o._reactRootContainer;if(f){var m=f;if(typeof c=="function"){var y=c;c=function(){var S=Oo(m);y.call(S)}}Mo(r,m,t,c)}else m=Dy(o,r,t,c,a);return Oo(m)}bd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=mi(r.pendingLanes);o!==0&&(Ql(r,o|1),ft(r,Me()),!(oe&6)&&($r=Me()+500,Pn()))}break;case 13:or(function(){var a=cn(t,1);if(a!==null){var c=nt();Bt(a,t,1,c)}}),Eu(t,1)}},Kl=function(t){if(t.tag===13){var r=cn(t,134217728);if(r!==null){var o=nt();Bt(r,t,134217728,o)}Eu(t,134217728)}},zd=function(t){if(t.tag===13){var r=Fn(t),o=cn(t,r);if(o!==null){var a=nt();Bt(o,t,r,a)}Eu(t,r)}},Vd=function(){return pe},Wd=function(t,r){var o=pe;try{return pe=t,r()}finally{pe=o}},Ul=function(t,r,o){switch(r){case"input":if(Dl(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=eo(a);if(!c)throw Error(i(90));cd(a),Dl(a,c)}}}break;case"textarea":md(t,o);break;case"select":r=o.value,r!=null&&Er(t,!!o.multiple,r,!1)}},Id=mu,kd=or;var My={usingClientEntryPoint:!1,Events:[Di,Lr,eo,Ed,Cd,mu]},Yi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oy={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xd(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Os=Vo.inject(Oy),Kt=Vo}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My,ht.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(r))throw Error(i(200));return Ly(t,r,null,o)},ht.createRoot=function(t,r){if(!Iu(t))throw Error(i(299));var o=!1,a="",c=rp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=Su(t,1,!1,null,null,o,!1,a,c),t[on]=r.current,Pi(t.nodeType===8?t.parentNode:t),new Cu(r)},ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=xd(r),t=t===null?null:t.stateNode,t},ht.flushSync=function(t){return or(t)},ht.hydrate=function(t,r,o){if(!bo(r))throw Error(i(200));return zo(null,t,r,!0,o)},ht.hydrateRoot=function(t,r,o){if(!Iu(t))throw Error(i(405));var a=o!=null&&o.hydratedSources||null,c=!1,f="",m=rp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),r=tp(r,null,t,1,o??null,c,!1,f,m),t[on]=r.current,Pi(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new Fo(r)},ht.render=function(t,r,o){if(!bo(r))throw Error(i(200));return zo(null,t,r,!1,o)},ht.unmountComponentAtNode=function(t){if(!bo(t))throw Error(i(40));return t._reactRootContainer?(or(function(){zo(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1},ht.unstable_batchedUpdates=mu,ht.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!bo(o))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return zo(t,r,o,!1,a)},ht.version="18.3.1-next-f1338f8080-20240426",ht}var fp;function By(){if(fp)return Nu.exports;fp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nu.exports=jy(),Nu.exports}var hp;function Hy(){if(hp)return Wo;hp=1;var n=By();return Wo.createRoot=n.createRoot,Wo.hydrateRoot=n.hydrateRoot,Wo}var $y=Hy(),pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(n,e){if(!n)throw si(e)},si=function(n){return new Error("Firebase Database ("+xm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Gy=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],d=n[i++],h=n[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],d=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},wc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],d=l+1<n.length,h=d?n[l+1]:0,p=l+2<n.length,g=p?n[l+2]:0,_=u>>2,v=(u&3)<<4|h>>4;let w=(h&15)<<2|g>>6,N=g&63;p||(N=64,d||(w=64)),s.push(i[_],i[v],i[w],i[N])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pm(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Gy(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],h=l<n.length?i[n.charAt(l)]:0;++l;const g=l<n.length?i[n.charAt(l)]:64;++l;const v=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||h==null||g==null||v==null)throw new Yy;const w=u<<2|h>>4;if(s.push(w),g!==64){const N=h<<4&240|g>>2;if(s.push(N),v!==64){const L=g<<6&192|v;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Yy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Am=function(n){const e=Pm(n);return wc.encodeByteArray(e,!0)},Xo=function(n){return Am(n).replace(/\./g,"")},Ku=function(n){try{return wc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n){return Lm(void 0,n)}function Lm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!Ky(i)||(n[i]=Lm(n[i],e[i]));return n}function Ky(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=()=>Xy().__FIREBASE_DEFAULTS__,qy=()=>{if(typeof process>"u"||typeof pp>"u")return;const n=pp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jy=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ku(n[1]);return e&&JSON.parse(e)},Dm=()=>{try{return Zy()||qy()||Jy()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ew=n=>{var e,i;return(i=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},tw=n=>{const e=ew(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Mm=()=>{var n;return(n=Dm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xo(JSON.stringify(i)),Xo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rw())}function iw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ow(){return xm.NODE_ADMIN===!0}function Fm(){try{return typeof indexedDB=="object"}catch{return!1}}function bm(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}function lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="FirebaseError";class yr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=aw,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?uw(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new yr(l,h,s)}}function uw(n,e){return n.replace(cw,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const cw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n){return JSON.parse(n)}function We(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=ls(Ku(u[0])||""),i=ls(Ku(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},dw=function(n){const e=zm(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},fw=function(n){const e=zm(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function mp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zo(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function qo(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],d=e[l];if(gp(u)&&gp(d)){if(!qo(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function gp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)s[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const w=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(w<<1|w>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,_;for(let v=0;v<80;v++){v<40?v<20?(g=h^u&(d^h),_=1518500249):(g=u^d^h,_=1859775393):v<60?(g=u&d|h&(u|d),_=2400959708):(g=u^d^h,_=3395469782);const w=(l<<5|l>>>27)+g+p+_+s[v]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=w}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<i;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<i;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function vl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,M(s<n.length,"Surrogate pair missing trail surrogate.");const d=n.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},_l=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=1e3,vw=2,_w=4*60*60*1e3,yw=.5;function vp(n,e=gw,i=vw){const s=e*Math.pow(i,n),l=Math.round(yw*s*(Math.random()-.5)*2);return Math.min(_w,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class vn{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new _s;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ew(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(n){return n===cr?void 0:n}function Ew(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ww(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Se||(Se={}));const Iw={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},kw=Se.INFO,Tw={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Nw=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=Tw[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sc{constructor(e){this.name=e,this._logLevel=kw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const Rw=(n,e)=>e.some(i=>n instanceof i);let _p,yp;function xw(){return _p||(_p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pw(){return yp||(yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,Xu=new WeakMap,Wm=new WeakMap,Pu=new WeakMap,Ec=new WeakMap;function Aw(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",d)},u=()=>{i(jn(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vm.set(i,n)}).catch(()=>{}),Ec.set(e,n),e}function Lw(n){if(Xu.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",d),n.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",d),n.addEventListener("abort",d)});Xu.set(n,e)}let Zu={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Xu.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Wm.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jn(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dw(n){Zu=n(Zu)}function Mw(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Au(this),e,...i);return Wm.set(s,e.sort?e.sort():[e]),jn(s)}:Pw().includes(n)?function(...e){return n.apply(Au(this),e),jn(Vm.get(this))}:function(...e){return jn(n.apply(Au(this),e))}}function Ow(n){return typeof n=="function"?Mw(n):(n instanceof IDBTransaction&&Lw(n),Rw(n,xw())?new Proxy(n,Zu):n)}function jn(n){if(n instanceof IDBRequest)return Aw(n);if(Pu.has(n))return Pu.get(n);const e=Ow(n);return e!==n&&(Pu.set(n,e),Ec.set(e,n)),e}const Au=n=>Ec.get(n);function Um(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(n,e),h=jn(d);return s&&d.addEventListener("upgradeneeded",p=>{s(jn(d.result),p.oldVersion,p.newVersion,jn(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Fw=["get","getKey","getAll","getAllKeys","count"],bw=["put","add","delete","clear"],Lu=new Map;function wp(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lu.get(e))return Lu.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=bw.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Fw.includes(i)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),l&&p.done]))[0]};return Lu.set(e,u),u}Dw(n=>({...n,get:(e,i,s)=>wp(e,i)||n.get(e,i,s),has:(e,i)=>!!wp(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Vw(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Vw(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qu="@firebase/app",Sp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Sc("@firebase/app"),Ww="@firebase/app-compat",Uw="@firebase/analytics-compat",jw="@firebase/analytics",Bw="@firebase/app-check-compat",Hw="@firebase/app-check",$w="@firebase/auth",Gw="@firebase/auth-compat",Yw="@firebase/database",Qw="@firebase/data-connect",Kw="@firebase/database-compat",Xw="@firebase/functions",Zw="@firebase/functions-compat",qw="@firebase/installations",Jw="@firebase/installations-compat",e0="@firebase/messaging",t0="@firebase/messaging-compat",n0="@firebase/performance",r0="@firebase/performance-compat",i0="@firebase/remote-config",s0="@firebase/remote-config-compat",o0="@firebase/storage",l0="@firebase/storage-compat",a0="@firebase/firestore",u0="@firebase/vertexai",c0="@firebase/firestore-compat",d0="firebase",f0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="[DEFAULT]",h0={[qu]:"fire-core",[Ww]:"fire-core-compat",[jw]:"fire-analytics",[Uw]:"fire-analytics-compat",[Hw]:"fire-app-check",[Bw]:"fire-app-check-compat",[$w]:"fire-auth",[Gw]:"fire-auth-compat",[Yw]:"fire-rtdb",[Qw]:"fire-data-connect",[Kw]:"fire-rtdb-compat",[Xw]:"fire-fn",[Zw]:"fire-fn-compat",[qw]:"fire-iid",[Jw]:"fire-iid-compat",[e0]:"fire-fcm",[t0]:"fire-fcm-compat",[n0]:"fire-perf",[r0]:"fire-perf-compat",[i0]:"fire-rc",[s0]:"fire-rc-compat",[o0]:"fire-gcs",[l0]:"fire-gcs-compat",[a0]:"fire-fst",[c0]:"fire-fst-compat",[u0]:"fire-vertex","fire-js":"fire-js",[d0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,p0=new Map,ec=new Map;function Ep(n,e){try{n.container.addComponent(e)}catch(i){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Gn(n){const e=n.name;if(ec.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;ec.set(e,n);for(const i of Jo.values())Ep(i,n);for(const i of p0.values())Ep(i,n);return!0}function ys(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bn=new gl("app","Firebase",m0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=f0;function jm(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ju,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Bn.create("bad-app-name",{appName:String(l)});if(i||(i=Mm()),!i)throw Bn.create("no-options");const u=Jo.get(l);if(u){if(qo(i,u.options)&&qo(s,u.config))return u;throw Bn.create("duplicate-app",{appName:l})}const d=new Cw(l);for(const p of ec.values())d.addComponent(p);const h=new g0(i,s,d);return Jo.set(l,h),h}function Bm(n=Ju){const e=Jo.get(n);if(!e&&n===Ju&&Mm())return jm();if(!e)throw Bn.create("no-app",{appName:n});return e}function tn(n,e,i){var s;let l=(s=h0[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(h.join(" "));return}Gn(new vn(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebase-heartbeat-database",y0=1,as="firebase-heartbeat-store";let Du=null;function Hm(){return Du||(Du=Um(_0,y0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(as)}catch(i){console.warn(i)}}}}).catch(n=>{throw Bn.create("idb-open",{originalErrorMessage:n.message})})),Du}async function w0(n){try{const i=(await Hm()).transaction(as),s=await i.objectStore(as).get($m(n));return await i.done,s}catch(e){if(e instanceof yr)_n.warn(e.message);else{const i=Bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(i.message)}}}async function Cp(n,e){try{const s=(await Hm()).transaction(as,"readwrite");await s.objectStore(as).put(e,$m(n)),await s.done}catch(i){if(i instanceof yr)_n.warn(i.message);else{const s=Bn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});_n.warn(s.message)}}}function $m(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=1024,E0=30*24*60*60*1e3;class C0{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new k0(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ip();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=E0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_n.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ip(),{heartbeatsToSend:s,unsentEntries:l}=I0(this._heartbeatsCache.heartbeats),u=Xo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return _n.warn(i),""}}}function Ip(){return new Date().toISOString().substring(0,10)}function I0(n,e=S0){const i=[];let s=n.slice();for(const l of n){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),kp(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),kp(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class k0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fm()?bm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await w0(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Cp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Cp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function kp(n){return Xo(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n){Gn(new vn("platform-logger",e=>new zw(e),"PRIVATE")),Gn(new vn("heartbeat",e=>new C0(e),"PRIVATE")),tn(qu,Sp,n),tn(qu,Sp,"esm2017"),tn("fire-js","")}T0("");var N0="firebase",R0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(N0,R0,"app");const Gm="@firebase/installations",Cc="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=1e4,Qm=`w:${Cc}`,Km="FIS_v2",x0="https://firebaseinstallations.googleapis.com/v1",P0=60*60*1e3,A0="installations",L0="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new gl(A0,L0,D0);function Xm(n){return n instanceof yr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm({projectId:n}){return`${x0}/projects/${n}/installations`}function qm(n){return{token:n.token,requestStatus:2,expiresIn:O0(n.expiresIn),creationTime:Date.now()}}async function Jm(n,e){const s=(await e.json()).error;return pr.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function eg({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function M0(n,{refreshToken:e}){const i=eg(n);return i.append("Authorization",F0(e)),i}async function tg(n){const e=await n();return e.status>=500&&e.status<600?n():e}function O0(n){return Number(n.replace("s","000"))}function F0(n){return`${Km} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0({appConfig:n,heartbeatServiceProvider:e},{fid:i}){const s=Zm(n),l=eg(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:i,authVersion:Km,appId:n.appId,sdkVersion:Qm},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await tg(()=>fetch(s,h));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:qm(g.authToken)}}else throw await Jm("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=/^[cdef][\w-]{21}$/,tc="";function W0(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=U0(n);return V0.test(i)?i:tc}catch{return tc}}function U0(n){return z0(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Map;function ig(n,e){const i=yl(n);sg(i,e),j0(i,e)}function sg(n,e){const i=rg.get(n);if(i)for(const s of i)s(e)}function j0(n,e){const i=B0();i&&i.postMessage({key:n,fid:e}),H0()}let fr=null;function B0(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=n=>{sg(n.data.key,n.data.fid)}),fr}function H0(){rg.size===0&&fr&&(fr.close(),fr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebase-installations-database",G0=1,mr="firebase-installations-store";let Mu=null;function Ic(){return Mu||(Mu=Um($0,G0,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(mr)}}})),Mu}async function el(n,e){const i=yl(n),l=(await Ic()).transaction(mr,"readwrite"),u=l.objectStore(mr),d=await u.get(i);return await u.put(e,i),await l.done,(!d||d.fid!==e.fid)&&ig(n,e.fid),e}async function og(n){const e=yl(n),s=(await Ic()).transaction(mr,"readwrite");await s.objectStore(mr).delete(e),await s.done}async function wl(n,e){const i=yl(n),l=(await Ic()).transaction(mr,"readwrite"),u=l.objectStore(mr),d=await u.get(i),h=e(d);return h===void 0?await u.delete(i):await u.put(h,i),await l.done,h&&(!d||d.fid!==h.fid)&&ig(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){let e;const i=await wl(n.appConfig,s=>{const l=Y0(s),u=Q0(n,l);return e=u.registrationPromise,u.installationEntry});return i.fid===tc?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Y0(n){const e=n||{fid:W0(),registrationStatus:0};return lg(e)}function Q0(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(pr.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=K0(n,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X0(n)}:{installationEntry:e}}async function K0(n,e){try{const i=await b0(n,e);return el(n.appConfig,i)}catch(i){throw Xm(i)&&i.customData.serverCode===409?await og(n.appConfig):await el(n.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function X0(n){let e=await Tp(n.appConfig);for(;e.registrationStatus===1;)await ng(100),e=await Tp(n.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await kc(n);return s||i}return e}function Tp(n){return wl(n,e=>{if(!e)throw pr.create("installation-not-found");return lg(e)})}function lg(n){return Z0(n)?{fid:n.fid,registrationStatus:0}:n}function Z0(n){return n.registrationStatus===1&&n.registrationTime+Ym<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0({appConfig:n,heartbeatServiceProvider:e},i){const s=J0(n,i),l=M0(n,i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:Qm,appId:n.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await tg(()=>fetch(s,h));if(p.ok){const g=await p.json();return qm(g)}else throw await Jm("Generate Auth Token",p)}function J0(n,{fid:e}){return`${Zm(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,e=!1){let i;const s=await wl(n.appConfig,u=>{if(!ag(u))throw pr.create("not-registered");const d=u.authToken;if(!e&&nS(d))return u;if(d.requestStatus===1)return i=eS(n,e),u;{if(!navigator.onLine)throw pr.create("app-offline");const h=iS(u);return i=tS(n,h),h}});return i?await i:s.authToken}async function eS(n,e){let i=await Np(n.appConfig);for(;i.authToken.requestStatus===1;)await ng(100),i=await Np(n.appConfig);const s=i.authToken;return s.requestStatus===0?Tc(n,e):s}function Np(n){return wl(n,e=>{if(!ag(e))throw pr.create("not-registered");const i=e.authToken;return sS(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tS(n,e){try{const i=await q0(n,e),s=Object.assign(Object.assign({},e),{authToken:i});return await el(n.appConfig,s),i}catch(i){if(Xm(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await og(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await el(n.appConfig,s)}throw i}}function ag(n){return n!==void 0&&n.registrationStatus===2}function nS(n){return n.requestStatus===2&&!rS(n)}function rS(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+P0}function iS(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function sS(n){return n.requestStatus===1&&n.requestTime+Ym<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(n){const e=n,{installationEntry:i,registrationPromise:s}=await kc(e);return s?s.catch(console.error):Tc(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(n,e=!1){const i=n;return await aS(i),(await Tc(i,e)).token}async function aS(n){const{registrationPromise:e}=await kc(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){if(!n||!n.options)throw Ou("App Configuration");if(!n.name)throw Ou("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!n.options[i])throw Ou(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ou(n){return pr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="installations",cS="installations-internal",dS=n=>{const e=n.getProvider("app").getImmediate(),i=uS(e),s=ys(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},fS=n=>{const e=n.getProvider("app").getImmediate(),i=ys(e,ug).getImmediate();return{getId:()=>oS(i),getToken:l=>lS(i,l)}};function hS(){Gn(new vn(ug,dS,"PUBLIC")),Gn(new vn(cS,fS,"PRIVATE"))}hS();tn(Gm,Cc);tn(Gm,Cc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="analytics",pS="firebase_id",mS="origin",gS=60*1e3,vS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=new Sc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},It=new gl("analytics","Analytics",_S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){if(!n.startsWith(Nc)){const e=It.create("invalid-gtag-resource",{gtagURL:n});return mt.warn(e.message),""}return n}function cg(n){return Promise.all(n.map(e=>e.catch(i=>i)))}function wS(n,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,e)),i}function SS(n,e){const i=wS("firebase-js-sdk-policy",{createScriptURL:yS}),s=document.createElement("script"),l=`${Nc}?l=${n}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function ES(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function CS(n,e,i,s,l,u){const d=s[l];try{if(d)await e[d];else{const p=(await cg(i)).find(g=>g.measurementId===l);p&&await e[p.appId]}}catch(h){mt.error(h)}n("config",l,u)}async function IS(n,e,i,s,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const h=await cg(i);for(const p of d){const g=h.find(v=>v.measurementId===p),_=g&&e[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",s,l||{})}catch(u){mt.error(u)}}function kS(n,e,i,s){async function l(u,...d){try{if(u==="event"){const[h,p]=d;await IS(n,e,i,h,p)}else if(u==="config"){const[h,p]=d;await CS(n,e,i,s,h,p)}else if(u==="consent"){const[h,p]=d;n("consent",h,p)}else if(u==="get"){const[h,p,g]=d;n("get",h,p,g)}else if(u==="set"){const[h]=d;n("set",h)}else n(u,...d)}catch(h){mt.error(h)}}return l}function TS(n,e,i,s,l){let u=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=kS(u,n,e,i),{gtagCore:u,wrappedGtag:window[l]}}function NS(n){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Nc)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=30,xS=1e3;class PS{constructor(e={},i=xS){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dg=new PS;function AS(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function LS(n){var e;const{appId:i,apiKey:s}=n,l={method:"GET",headers:AS(s)},u=vS.replace("{app-id}",i),d=await fetch(u,l);if(d.status!==200&&d.status!==304){let h="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(h=p.error.message)}catch{}throw It.create("config-fetch-failed",{httpStatus:d.status,responseMessage:h})}return d.json()}async function DS(n,e=dg,i){const{appId:s,apiKey:l,measurementId:u}=n.options;if(!s)throw It.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw It.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new FS;return setTimeout(async()=>{h.abort()},gS),fg({appId:s,apiKey:l,measurementId:u},d,h,e)}async function fg(n,{throttleEndTimeMillis:e,backoffCount:i},s,l=dg){var u;const{appId:d,measurementId:h}=n;try{await MS(s,e)}catch(p){if(h)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:h};throw p}try{const p=await LS(n);return l.deleteThrottleMetadata(d),p}catch(p){const g=p;if(!OS(g)){if(l.deleteThrottleMetadata(d),h)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:d,measurementId:h};throw p}const _=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?vp(i,l.intervalMillis,RS):vp(i,l.intervalMillis),v={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return l.setThrottleMetadata(d,v),mt.debug(`Calling attemptFetch again in ${_} millis`),fg(n,v,s,l)}}function MS(n,e){return new Promise((i,s)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(i,l);n.addEventListener(()=>{clearTimeout(u),s(It.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OS(n){if(!(n instanceof yr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class FS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bS(n,e,i,s,l){if(l&&l.global){n("event",i,s);return}else{const u=await e,d=Object.assign(Object.assign({},s),{send_to:u});n("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(){if(Fm())try{await bm()}catch(n){return mt.warn(It.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return mt.warn(It.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VS(n,e,i,s,l,u,d){var h;const p=DS(n);p.then(N=>{i[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>mt.error(N)),e.push(p);const g=zS().then(N=>{if(N)return s.getId()}),[_,v]=await Promise.all([p,g]);NS(u)||SS(u,_.measurementId),l("js",new Date);const w=(h=d==null?void 0:d.config)!==null&&h!==void 0?h:{};return w[mS]="firebase",w.update=!0,v!=null&&(w[pS]=v),l("config",_.measurementId,w),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.app=e}_delete(){return delete ts[this.app.options.appId],Promise.resolve()}}let ts={},Rp=[];const xp={};let Fu="dataLayer",US="gtag",Pp,hg,Ap=!1;function jS(){const n=[];if(iw()&&n.push("This is a browser extension environment."),lw()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,l)=>`(${l+1}) ${s}`).join(" "),i=It.create("invalid-analytics-context",{errorInfo:e});mt.warn(i.message)}}function BS(n,e,i){jS();const s=n.options.appId;if(!s)throw It.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw It.create("no-api-key");if(ts[s]!=null)throw It.create("already-exists",{id:s});if(!Ap){ES(Fu);const{wrappedGtag:u,gtagCore:d}=TS(ts,Rp,xp,Fu,US);hg=u,Pp=d,Ap=!0}return ts[s]=VS(n,Rp,xp,e,Pp,Fu,i),new WS(n)}function HS(n=Bm()){n=Xn(n);const e=ys(n,tl);return e.isInitialized()?e.getImmediate():$S(n)}function $S(n,e={}){const i=ys(n,tl);if(i.isInitialized()){const l=i.getImmediate();if(qo(e,i.getOptions()))return l;throw It.create("already-initialized")}return i.initialize({options:e})}function GS(n,e,i,s){n=Xn(n),bS(hg,ts[n.app.options.appId],e,i,s).catch(l=>mt.error(l))}const Lp="@firebase/analytics",Dp="0.10.11";function YS(){Gn(new vn(tl,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return BS(s,l,i)},"PUBLIC")),Gn(new vn("analytics-internal",n,"PRIVATE")),tn(Lp,Dp),tn(Lp,Dp,"esm2017");function n(e){try{const i=e.getProvider(tl).getImmediate();return{logEvent:(s,l,u)=>GS(i,s,l,u)}}catch(i){throw It.create("interop-component-reg-failed",{reason:i})}}}YS();var Mp={};const Op="@firebase/database",Fp="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg="";function QS(n){pg=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:ls(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KS(e)}}catch{}return new XS},hr=mg("localStorage"),ZS=mg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Sc("@firebase/database"),qS=function(){let n=1;return function(){return n++}}(),gg=function(n){const e=mw(n),i=new pw;i.update(e);const s=i.digest();return wc.encodeByteArray(s)},ws=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ws.apply(null,s):typeof s=="object"?e+=We(s):e+=s,e+=" "}return e};let ns=null,bp=!0;const JS=function(n,e){M(!0,"Can't turn on custom loggers persistently."),Zr.logLevel=Se.VERBOSE,ns=Zr.log.bind(Zr)},Qe=function(...n){if(bp===!0&&(bp=!1,ns===null&&ZS.get("logging_enabled")===!0&&JS()),ns){const e=ws.apply(null,n);ns(e)}},Ss=function(n){return function(...e){Qe(n,...e)}},nc=function(...n){const e="FIREBASE INTERNAL ERROR: "+ws(...n);Zr.error(e)},yn=function(...n){const e=`FIREBASE FATAL ERROR: ${ws(...n)}`;throw Zr.error(e),new Error(e)},st=function(...n){const e="FIREBASE WARNING: "+ws(...n);Zr.warn(e)},eE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},tE=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ei="[MIN_NAME]",gr="[MAX_NAME]",wr=function(n,e){if(n===e)return 0;if(n===ei||e===gr)return-1;if(e===ei||n===gr)return 1;{const i=zp(n),s=zp(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},nE=function(n,e){return n===e?0:n<e?-1:1},Ki=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+We(e))},xc=function(n){if(typeof n!="object"||n===null)return We(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=We(e[s]),i+=":",i+=xc(n[e[s]]);return i+="}",i},vg=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function Ke(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const _g=function(n){M(!Rc(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,d,h,p;n===0?(u=0,d=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,d=Math.round(n*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,d=Math.round(n/Math.pow(2,1-s-i))));const g=[];for(p=i;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const _=g.join("");let v="";for(p=0;p<64;p+=8){let w=parseInt(_.substr(p,8),2).toString(16);w.length===1&&(w="0"+w),v=v+w}return v.toLowerCase()},rE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sE(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const oE=new RegExp("^-?(0*)\\d{1,10}$"),lE=-2147483648,aE=2147483647,zp=function(n){if(oE.test(n)){const e=Number(n);if(e>=lE&&e<=aE)return e}return null},oi=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw st("Exception was thrown by user callback.",i),e},Math.floor(0))}},uE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rs=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(e)}}class Yo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="5",yg="v",wg="s",Sg="r",Eg="f",Cg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ig="ls",kg="p",rc="ac",Tg="websocket",Ng="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,i,s,l,u=!1,d="",h=!1,p=!1){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function fE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function xg(n,e,i){M(typeof e=="string","typeof type must == string"),M(typeof i=="object","typeof params must == object");let s;if(e===Tg)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Ng)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fE(n)&&(i.ns=n.namespace);const l=[];return Ke(i,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.counters_={}}incrementCounter(e,i=1){nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Qy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={},zu={};function Ac(n){const e=n.toString();return bu[e]||(bu[e]=new hE),bu[e]}function pE(n,e){const i=n.toString();return zu[i]||(zu[i]=e()),zu[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&oi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="start",gE="close",vE="pLPCommand",_E="pRTLPCB",Pg="id",Ag="pw",Lg="ser",yE="cb",wE="seg",SE="ts",EE="d",CE="dframe",Dg=1870,Mg=30,IE=Dg-Mg,kE=25e3,TE=3e4;class Xr{constructor(e,i,s,l,u,d,h){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ss(e),this.stats_=Ac(i),this.urlFn=p=>(this.appCheckToken&&(p[rc]=this.appCheckToken),xg(i,Ng,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new mE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TE)),tE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lc((...u)=>{const[d,h,p,g,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Vp)this.id=h,this.password=p;else if(d===gE)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Vp]="t",s[Lg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[yE]=this.scriptTagHolder.uniqueCallbackIdentifier),s[yg]=Pc,this.transportSessionId&&(s[wg]=this.transportSessionId),this.lastSessionId&&(s[Ig]=this.lastSessionId),this.applicationId&&(s[kg]=this.applicationId),this.appCheckToken&&(s[rc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cg.test(location.hostname)&&(s[Sg]=Eg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xr.forceAllow_=!0}static forceDisallow(){Xr.forceDisallow_=!0}static isAvailable(){return Xr.forceAllow_?!0:!Xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rE()&&!iE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=We(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Am(i),l=vg(s,IE);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[CE]="t",s[Pg]=e,s[Ag]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=We(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Lc{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qS(),window[vE+this.uniqueCallbackIdentifier]=e,window[_E+this.uniqueCallbackIdentifier]=i,this.myIFrame=Lc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Qe("frame writing exception"),h.stack&&Qe(h.stack),Qe(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Pg]=this.myID,e[Ag]=this.myPW,e[Lg]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Mg+s.length<=Dg;){const d=this.pendingSegs.shift();s=s+"&"+wE+l+"="+d.seg+"&"+SE+l+"="+d.ts+"&"+EE+l+"="+d.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(kE)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=16384,RE=45e3;let nl=null;typeof MozWebSocket<"u"?nl=MozWebSocket:typeof WebSocket<"u"&&(nl=WebSocket);class en{constructor(e,i,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ss(this.connId),this.stats_=Ac(i),this.connURL=en.connectionURL_(i,d,h,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const d={};return d[yg]=Pc,typeof location<"u"&&location.hostname&&Cg.test(location.hostname)&&(d[Sg]=Eg),i&&(d[wg]=i),s&&(d[Ig]=s),l&&(d[rc]=l),u&&(d[kg]=u),xg(e,Tg,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hr.set("previous_websocket_failure",!0);try{let s;ow(),this.mySock=new nl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&nl!==null&&!en.forceDisallow_}static previouslyFailed(){return hr.isInMemoryStorage||hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=ls(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=We(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=vg(i,NE);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RE))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static get ALL_TRANSPORTS(){return[Xr,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=en.isAvailable();let s=i&&!en.previouslyFailed();if(e.webSocketOnly&&(i||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[en];else{const l=this.transports_=[];for(const u of us.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}us.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=6e4,PE=5e3,AE=10*1024,LE=100*1024,Vu="t",Wp="d",DE="s",Up="r",ME="e",jp="o",Bp="a",Hp="n",$p="p",OE="h";class FE{constructor(e,i,s,l,u,d,h,p,g,_){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ss("c:"+this.id+":"),this.transportManager_=new us(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=rs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vu in e){const i=e[Vu];i===Bp?this.upgradeIfSecondaryHealthy_():i===Up?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ki("t",e),s=Ki("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ki("t",e),s=Ki("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ki(Vu,e);if(Wp in e){const s=e[Wp];if(i===OE){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Hp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===DE?this.onConnectionShutdown_(s):i===Up?this.onReset_(s):i===ME?nc("Server Error: "+s):i===jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nc("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Pc!==s&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),rs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xE))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$p,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){M(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Fg{static getInstance(){return new rl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=32,Yp=768;class me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ce(){return new me("")}function te(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yn(n){return n.pieces_.length-n.pieceNum_}function Ee(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new me(n.pieces_,e)}function Dc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bE(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function cs(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function bg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new me(e,0)}function Le(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof me)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new me(i,0)}function ie(n){return n.pieceNum_>=n.pieces_.length}function it(n,e){const i=te(n),s=te(e);if(i===null)return e;if(i===s)return it(Ee(n),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zE(n,e){const i=cs(n,0),s=cs(e,0);for(let l=0;l<i.length&&l<s.length;l++){const u=wr(i[l],s[l]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function Mc(n,e){if(Yn(n)!==Yn(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Dt(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(Yn(n)>Yn(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class VE{constructor(e,i){this.errorPrefix_=i,this.parts_=cs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=_l(this.parts_[s]);zg(this)}}function WE(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=_l(e),zg(n)}function UE(n){const e=n.parts_.pop();n.byteLength_-=_l(e),n.parts_.length>0&&(n.byteLength_-=1)}function zg(n){if(n.byteLength_>Yp)throw new Error(n.errorPrefix_+"has a key path longer than "+Yp+" bytes ("+n.byteLength_+").");if(n.parts_.length>Gp)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gp+") or object contains a cycle "+dr(n))}function dr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Fg{static getInstance(){return new Oc}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=1e3,jE=60*5*1e3,Qp=30*1e3,BE=1.3,HE=3e4,$E="server_kill",Kp=3;class gn extends Og{constructor(e,i,s,l,u,d,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=gn.nextPersistentConnectionId_++,this.log_=Ss("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xi,this.maxReconnectDelay_=jE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&rl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(We(u)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new _s,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;gn.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&nn(e,"w")){const s=Jr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=dw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const d={p:i,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):nc("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HE&&(this.reconnectDelay_=Xi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+gn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,s())},g=function(v){M(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,w]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);d?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=w&&w.token,h=new FE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,N=>{st(N+" ("+this.repoInfo_.toString()+")"),this.interrupt($E)},u))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&st(v),p())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mp(this.interruptReasons_)&&(this.reconnectDelay_=Xi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>xc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new me(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){Qe("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kp&&(this.reconnectDelay_=Qp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Qe("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+pg.replace(/\./g,"-")]=1,Om()?e["framework.cordova"]=1:sw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rl.getInstance().currentlyOnline();return mp(this.interruptReasons_)&&e}}gn.nextPersistentConnectionId_=0;gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ne(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new ne(ei,e),l=new ne(ei,i);return this.compare(s,l)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class Vg extends Sl{static get __EMPTY_NODE(){return Uo}static set __EMPTY_NODE(e){Uo=e}compare(e,i){return wr(e.name,i.name)}isDefinedOn(e){throw si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ne.MIN}maxPost(){return new ne(gr,Uo)}makePost(e,i){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Uo)}toString(){return".key"}}const qr=new Vg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?s(e.key,i):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $e{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??$e.RED,this.left=l??pt.EMPTY_NODE,this.right=u??pt.EMPTY_NODE}copy(e,i,s,l,u){return new $e(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$e.RED=!0;$e.BLACK=!1;class GE{copy(e,i,s,l,u){return this}insert(e,i,s){return new $e(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,i=pt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new pt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new jo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new jo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,e){return wr(n.name,e.name)}function Fc(n,e){return wr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;function QE(n){ic=n}const Wg=function(n){return typeof n=="number"?"number:"+_g(n):"string:"+n},Ug=function(n){if(n.isLeafNode()){const e=n.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&nn(e,".sv"),"Priority must be a string or number.")}else M(n===ic||n.isEmpty(),"priority of unexpected type.");M(n===ic||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xp;class He{static set __childrenNodeConstructor(e){Xp=e}static get __childrenNodeConstructor(){return Xp}constructor(e,i=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ug(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new He(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:te(e)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=te(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(M(s!==".priority"||Yn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wg(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=_g(this.value_):e+=this.value_,this.lazyHash_=gg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===He.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof He.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=He.VALUE_TYPE_ORDER.indexOf(i),u=He.VALUE_TYPE_ORDER.indexOf(s);return M(l>=0,"Unknown leaf type: "+i),M(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg,Bg;function KE(n){jg=n}function XE(n){Bg=n}class ZE extends Sl{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?wr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(gr,new He("[PRIORITY-POST]",Bg))}makePost(e,i){const s=jg(e);return new ne(i,new He("[PRIORITY-POST]",s))}toString(){return".priority"}}const De=new ZE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=Math.log(2);class JE{constructor(e){const i=u=>parseInt(Math.log(u)/qE,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const il=function(n,e,i,s){n.sort(e);const l=function(p,g){const _=g-p;let v,w;if(_===0)return null;if(_===1)return v=n[p],w=i?i(v):v,new $e(w,v.node,$e.BLACK,null,null);{const N=parseInt(_/2,10)+p,L=l(p,N),O=l(N+1,g);return v=n[N],w=i?i(v):v,new $e(w,v.node,$e.BLACK,L,O)}},u=function(p){let g=null,_=null,v=n.length;const w=function(L,O){const V=v-L,G=v;v-=L;const J=l(V+1,G),se=n[V],X=i?i(se):se;N(new $e(X,se.node,O,null,J))},N=function(L){g?(g.left=L,g=L):(_=L,g=L)};for(let L=0;L<p.count;++L){const O=p.nextBitIsOne(),V=Math.pow(2,p.count-(L+1));O?w(V,$e.BLACK):(w(V,$e.BLACK),w(V,$e.RED))}return _},d=new JE(n.length),h=u(d);return new pt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;const Zi={};class mn{static get Default(){return M(De,"ChildrenNode.ts has not been loaded"),Wu=Wu||new mn({".priority":Zi},{".priority":De}),Wu}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Jr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof pt?i:null}hasIndex(e){return nn(this.indexSet_,e.toString())}addIndex(e,i){M(e!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(ne.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=il(s,e.getCompare()):h=Zi;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new mn(_,g)}addToIndexes(e,i){const s=Zo(this.indexes_,(l,u)=>{const d=Jr(this.indexSet_,u);if(M(d,"Missing index implementation for "+u),l===Zi)if(d.isDefinedOn(e.node)){const h=[],p=i.getIterator(ne.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),il(h,d.getCompare())}else return Zi;else{const h=i.get(e.name);let p=l;return h&&(p=p.remove(new ne(e.name,h))),p.insert(e,e.node)}});return new mn(s,this.indexSet_)}removeFromIndexes(e,i){const s=Zo(this.indexes_,l=>{if(l===Zi)return l;{const u=i.get(e.name);return u?l.remove(new ne(e.name,u)):l}});return new mn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi;class Q{static get EMPTY_NODE(){return qi||(qi=new Q(new pt(Fc),null,mn.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Ug(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qi}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?qi:i}}getChild(e){const i=te(e);return i===null?this:this.getImmediateChild(i).getChild(Ee(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(M(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new ne(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?qi:this.priorityNode_;return new Q(l,d,u)}}updateChild(e,i){const s=te(e);if(s===null)return i;{M(te(e)!==".priority"||Yn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ee(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(De,(d,h)=>{i[d]=h.val(e),s++,u&&Q.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in i)d[h]=i[h];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Wg(this.getPriority().val())+":"),this.forEachChild(De,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":gg(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new ne(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ne(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ne(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ne.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Es?-1:0}withIndex(e){if(e===qr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(De),l=i.getIterator(De);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===qr?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eC extends Q{constructor(){super(new pt(Fc),Q.EMPTY_NODE,mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Es=new eC;Object.defineProperties(ne,{MIN:{value:new ne(ei,Q.EMPTY_NODE)},MAX:{value:new ne(gr,Es)}});Vg.__EMPTY_NODE=Q.EMPTY_NODE;He.__childrenNodeConstructor=Q;QE(Es);XE(Es);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=!0;function Ve(n,e=null){if(n===null)return Q.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new He(i,Ve(e))}if(!(n instanceof Array)&&tC){const i=[];let s=!1;if(Ke(n,(d,h)=>{if(d.substring(0,1)!=="."){const p=Ve(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new ne(d,p)))}}),i.length===0)return Q.EMPTY_NODE;const u=il(i,YE,d=>d.name,Fc);if(s){const d=il(i,De.getCompare());return new Q(u,Ve(e),new mn({".priority":d},{".priority":De}))}else return new Q(u,Ve(e),mn.Default)}else{let i=Q.EMPTY_NODE;return Ke(n,(s,l)=>{if(nn(n,s)&&s.substring(0,1)!=="."){const u=Ve(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Ve(e))}}KE(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends Sl{constructor(e){super(),this.indexPath_=e,M(!ie(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?wr(e.name,i.name):u}makePost(e,i){const s=Ve(e),l=Q.EMPTY_NODE.updateChild(this.indexPath_,s);return new ne(i,l)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Es);return new ne(gr,e)}toString(){return cs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends Sl{compare(e,i){const s=e.node.compareTo(i.node);return s===0?wr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,i){const s=Ve(e);return new ne(i,s)}toString(){return".value"}}const iC=new rC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n){return{type:"value",snapshotNode:n}}function ti(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ds(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function fs(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function sC(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.index_=e}updateChild(e,i,s,l,u,d){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(i)?d.trackChildChange(ds(i,h)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ti(i,s)):d.trackChildChange(fs(i,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(De,(l,u)=>{i.hasChild(l)||s.trackChildChange(ds(l,u))}),i.isLeafNode()||i.forEachChild(De,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(fs(l,u,d))}else s.trackChildChange(ti(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.indexedFilter_=new bc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hs.getStartPost_(e),this.endPost_=hs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,d){return this.matches(new ne(i,s))||(s=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,d)}updateFullNode(e,i,s){i.isLeafNode()&&(i=Q.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(Q.EMPTY_NODE);const u=this;return i.forEachChild(De,(d,h)=>{u.matches(new ne(d,h))||(l=l.updateImmediateChild(d,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new hs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,d){return this.rangedFilter_.matches(new ne(i,s))||(s=Q.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,d):this.fullLimitUpdateChild_(e,i,s,u,d)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=Q.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(Q.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let d;if(this.reverse_){const v=this.index_.getCompare();d=(w,N)=>v(N,w)}else d=this.index_.getCompare();const h=e;M(h.numChildren()===this.limit_,"");const p=new ne(i,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(i)){const v=h.getImmediateChild(i);let w=l.getChildAfterChild(this.index_,g,this.reverse_);for(;w!=null&&(w.name===i||h.hasChild(w.name));)w=l.getChildAfterChild(this.index_,w,this.reverse_);const N=w==null?1:d(w,p);if(_&&!s.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(fs(i,s,v)),h.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(ds(i,v));const O=h.updateImmediateChild(i,Q.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(u!=null&&u.trackChildChange(ti(w.name,w.node)),O.updateImmediateChild(w.name,w.node)):O}}else return s.isEmpty()?e:_&&d(g,p)>=0?(u!=null&&(u.trackChildChange(ds(g.name,g.node)),u.trackChildChange(ti(i,s))),h.updateImmediateChild(i,s).updateImmediateChild(g.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ei}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const e=new zc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lC(n){return n.loadsAllData()?new bc(n.getIndex()):n.hasLimit()?new oC(n):new hs(n)}function Zp(n){const e={};if(n.isDefault())return e;let i;if(n.index_===De?i="$priority":n.index_===iC?i="$value":n.index_===qr?i="$key":(M(n.index_ instanceof nC,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=We(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=We(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+We(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=We(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+We(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function qp(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==De&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Og{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ss("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=sl.getListenId_(e,s),h={};this.listens_[d]=h;const p=Zp(e._queryParams);this.restRequest_(u+".json",p,(g,_)=>{let v=_;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(u,v,!1,s),Jr(this.listens_,d)===h){let w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",l(w,null)}})}unlisten(e,i){const s=sl.getListenId_(e,i);delete this.listens_[s]}get(e){const i=Zp(e._queryParams),s=e._path.toString(),l=new _s;return this.restRequest_(s+".json",i,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hw(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ls(h.responseText)}catch{st("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&st("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(){return{value:null,children:new Map}}function $g(n,e,i){if(ie(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=te(e);n.children.has(s)||n.children.set(s,ol());const l=n.children.get(s);e=Ee(e),$g(l,e,i)}}function sc(n,e,i){n.value!==null?i(e,n.value):uC(n,(s,l)=>{const u=new me(e.toString()+"/"+s);sc(l,u,i)})}function uC(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Ke(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=10*1e3,dC=30*1e3,fC=5*60*1e3;class hC{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new cC(e);const s=Jp+(dC-Jp)*Math.random();rs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;Ke(e,(l,u)=>{u>0&&nn(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),rs(this.reportStats_.bind(this),Math.floor(Math.random()*2*fC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function Vc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Uc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=$t.ACK_USER_WRITE,this.source=Vc()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new me(e));return new ll(ce(),i,this.revert)}}else return M(te(this.path)===e,"operationForChild called for unrelated child."),new ll(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.source=e,this.path=i,this.type=$t.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new ps(this.source,ce()):new ps(this.source,Ee(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=$t.OVERWRITE}operationForChild(e){return ie(this.path)?new vr(this.source,ce(),this.snap.getImmediateChild(e)):new vr(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=$t.MERGE}operationForChild(e){if(ie(this.path)){const i=this.children.subtree(new me(e));return i.isEmpty()?null:i.value?new vr(this.source,ce(),i.value):new ni(this.source,ce(),i)}else return M(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ni(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const i=te(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mC(n,e,i,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(sC(d.childName,d.snapshotNode))}),Ji(n,l,"child_removed",e,s,i),Ji(n,l,"child_added",e,s,i),Ji(n,l,"child_moved",u,s,i),Ji(n,l,"child_changed",e,s,i),Ji(n,l,"value",e,s,i),l}function Ji(n,e,i,s,l,u){const d=s.filter(h=>h.type===i);d.sort((h,p)=>vC(n,h,p)),d.forEach(h=>{const p=gC(n,h,u);l.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,n.query_))})})}function gC(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function vC(n,e,i){if(e.childName==null||i.childName==null)throw si("Should only compare child_ events.");const s=new ne(e.childName,e.snapshotNode),l=new ne(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n,e){return{eventCache:n,serverCache:e}}function is(n,e,i,s){return El(new Qn(e,i,s),n.serverCache)}function Gg(n,e,i,s){return El(n.eventCache,new Qn(e,i,s))}function al(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _r(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;const _C=()=>(Uu||(Uu=new pt(nE)),Uu);class we{static fromObject(e){let i=new we(null);return Ke(e,(s,l)=>{i=i.set(new me(s),l)}),i}constructor(e,i=_C()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ce(),value:this.value};if(ie(e))return null;{const s=te(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ee(e),i);return u!=null?{path:Le(new me(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const i=te(e),s=this.children.get(i);return s!==null?s.subtree(Ee(e)):new we(null)}}set(e,i){if(ie(e))return new we(i,this.children);{const s=te(e),u=(this.children.get(s)||new we(null)).set(Ee(e),i),d=this.children.insert(s,u);return new we(this.value,d)}}remove(e){if(ie(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const i=te(e),s=this.children.get(i);if(s){const l=s.remove(Ee(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new we(null):new we(this.value,u)}else return this}}get(e){if(ie(e))return this.value;{const i=te(e),s=this.children.get(i);return s?s.get(Ee(e)):null}}setTree(e,i){if(ie(e))return i;{const s=te(e),u=(this.children.get(s)||new we(null)).setTree(Ee(e),i);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new we(this.value,d)}}fold(e){return this.fold_(ce(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Le(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,ce(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(ie(e))return null;{const u=te(e),d=this.children.get(u);return d?d.findOnPath_(Ee(e),Le(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ce(),i)}foreachOnPath_(e,i,s){if(ie(e))return this;{this.value&&s(i,this.value);const l=te(e),u=this.children.get(l);return u?u.foreachOnPath_(Ee(e),Le(i,l),s):new we(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(Le(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.writeTree_=e}static empty(){return new Gt(new we(null))}}function ss(n,e,i){if(ie(e))return new Gt(new we(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=it(l,e);return u=u.updateChild(d,i),new Gt(n.writeTree_.set(l,u))}else{const l=new we(i),u=n.writeTree_.setTree(e,l);return new Gt(u)}}}function oc(n,e,i){let s=n;return Ke(i,(l,u)=>{s=ss(s,Le(e,l),u)}),s}function em(n,e){if(ie(e))return Gt.empty();{const i=n.writeTree_.setTree(e,new we(null));return new Gt(i)}}function lc(n,e){return Sr(n,e)!=null}function Sr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(it(i.path,e)):null}function tm(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(De,(s,l)=>{e.push(new ne(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ne(s,l.value))}),e}function Hn(n,e){if(ie(e))return n;{const i=Sr(n,e);return i!=null?new Gt(new we(i)):new Gt(n.writeTree_.subtree(e))}}function ac(n){return n.writeTree_.isEmpty()}function ri(n,e){return Yg(ce(),n.writeTree_,e)}function Yg(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(M(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=Yg(Le(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(Le(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n,e){return Zg(e,n)}function yC(n,e,i,s,l){M(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=ss(n.visibleWrites,e,i)),n.lastWriteId=s}function wC(n,e,i,s){M(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=oc(n.visibleWrites,e,i),n.lastWriteId=s}function SC(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function EC(n,e){const i=n.allWrites.findIndex(h=>h.writeId===e);M(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,d=n.allWrites.length-1;for(;l&&d>=0;){const h=n.allWrites[d];h.visible&&(d>=i&&CC(h,s.path)?l=!1:Dt(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return IC(n),!0;if(s.snap)n.visibleWrites=em(n.visibleWrites,s.path);else{const h=s.children;Ke(h,p=>{n.visibleWrites=em(n.visibleWrites,Le(s.path,p))})}return!0}else return!1}function CC(n,e){if(n.snap)return Dt(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Dt(Le(n.path,i),e))return!0;return!1}function IC(n){n.visibleWrites=Qg(n.allWrites,kC,ce()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function kC(n){return n.visible}function Qg(n,e,i){let s=Gt.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const d=u.path;let h;if(u.snap)Dt(i,d)?(h=it(i,d),s=ss(s,h,u.snap)):Dt(d,i)&&(h=it(d,i),s=ss(s,ce(),u.snap.getChild(h)));else if(u.children){if(Dt(i,d))h=it(i,d),s=oc(s,h,u.children);else if(Dt(d,i))if(h=it(d,i),ie(h))s=oc(s,ce(),u.children);else{const p=Jr(u.children,te(h));if(p){const g=p.getChild(Ee(h));s=ss(s,ce(),g)}}}else throw si("WriteRecord should have .snap or .children")}}return s}function Kg(n,e,i,s,l){if(!s&&!l){const u=Sr(n.visibleWrites,e);if(u!=null)return u;{const d=Hn(n.visibleWrites,e);if(ac(d))return i;if(i==null&&!lc(d,ce()))return null;{const h=i||Q.EMPTY_NODE;return ri(d,h)}}}else{const u=Hn(n.visibleWrites,e);if(!l&&ac(u))return i;if(!l&&i==null&&!lc(u,ce()))return null;{const d=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Dt(g.path,e)||Dt(e,g.path))},h=Qg(n.allWrites,d,e),p=i||Q.EMPTY_NODE;return ri(h,p)}}}function TC(n,e,i){let s=Q.EMPTY_NODE;const l=Sr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(De,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(i){const u=Hn(n.visibleWrites,e);return i.forEachChild(De,(d,h)=>{const p=ri(Hn(u,new me(d)),h);s=s.updateImmediateChild(d,p)}),tm(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Hn(n.visibleWrites,e);return tm(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function NC(n,e,i,s,l){M(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Le(e,i);if(lc(n.visibleWrites,u))return null;{const d=Hn(n.visibleWrites,u);return ac(d)?l.getChild(i):ri(d,l.getChild(i))}}function RC(n,e,i,s){const l=Le(e,i),u=Sr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const d=Hn(n.visibleWrites,l);return ri(d,s.getNode().getImmediateChild(i))}else return null}function xC(n,e){return Sr(n.visibleWrites,e)}function PC(n,e,i,s,l,u,d){let h;const p=Hn(n.visibleWrites,e),g=Sr(p,ce());if(g!=null)h=g;else if(i!=null)h=ri(p,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const _=[],v=d.getCompare(),w=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let N=w.getNext();for(;N&&_.length<l;)v(N,s)!==0&&_.push(N),N=w.getNext();return _}else return[]}function AC(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function ul(n,e,i,s){return Kg(n.writeTree,n.treePath,e,i,s)}function jc(n,e){return TC(n.writeTree,n.treePath,e)}function nm(n,e,i,s){return NC(n.writeTree,n.treePath,e,i,s)}function cl(n,e){return xC(n.writeTree,Le(n.treePath,e))}function LC(n,e,i,s,l,u){return PC(n.writeTree,n.treePath,e,i,s,l,u)}function Bc(n,e,i){return RC(n.writeTree,n.treePath,e,i)}function Xg(n,e){return Zg(Le(n.treePath,e),n.writeTree)}function Zg(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;M(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),M(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,fs(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,ds(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ti(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,fs(s,e.snapshotNode,l.oldSnap));else throw si("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const qg=new MC;class Hc{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bc(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_r(this.viewCache_),u=LC(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){return{filter:n}}function FC(n,e){M(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function bC(n,e,i,s,l){const u=new DC;let d,h;if(i.type===$t.OVERWRITE){const g=i;g.source.fromUser?d=uc(n,e,g.path,g.snap,s,l,u):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!ie(g.path),d=dl(n,e,g.path,g.snap,s,l,h,u))}else if(i.type===$t.MERGE){const g=i;g.source.fromUser?d=VC(n,e,g.path,g.children,s,l,u):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),d=cc(n,e,g.path,g.children,s,l,h,u))}else if(i.type===$t.ACK_USER_WRITE){const g=i;g.revert?d=jC(n,e,g.path,s,l,u):d=WC(n,e,g.path,g.affectedTree,s,l,u)}else if(i.type===$t.LISTEN_COMPLETE)d=UC(n,e,i.path,s,u);else throw si("Unknown operation type: "+i.type);const p=u.getChanges();return zC(e,d,p),{viewCache:d,changes:p}}function zC(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=al(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(Hg(al(e)))}}function Jg(n,e,i,s,l,u){const d=e.eventCache;if(cl(s,i)!=null)return e;{let h,p;if(ie(i))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=_r(e),_=g instanceof Q?g:Q.EMPTY_NODE,v=jc(s,_);h=n.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const g=ul(s,_r(e));h=n.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=te(i);if(g===".priority"){M(Yn(i)===1,"Can't have a priority with additional path components");const _=d.getNode();p=e.serverCache.getNode();const v=nm(s,i,_,p);v!=null?h=n.filter.updatePriority(_,v):h=d.getNode()}else{const _=Ee(i);let v;if(d.isCompleteForChild(g)){p=e.serverCache.getNode();const w=nm(s,i,d.getNode(),p);w!=null?v=d.getNode().getImmediateChild(g).updateChild(_,w):v=d.getNode().getImmediateChild(g)}else v=Bc(s,g,e.serverCache);v!=null?h=n.filter.updateChild(d.getNode(),g,v,_,l,u):h=d.getNode()}}return is(e,h,d.isFullyInitialized()||ie(i),n.filter.filtersNodes())}}function dl(n,e,i,s,l,u,d,h){const p=e.serverCache;let g;const _=d?n.filter:n.filter.getIndexedFilter();if(ie(i))g=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(i,s);g=_.updateFullNode(p.getNode(),N,null)}else{const N=te(i);if(!p.isCompleteForPath(i)&&Yn(i)>1)return e;const L=Ee(i),V=p.getNode().getImmediateChild(N).updateChild(L,s);N===".priority"?g=_.updatePriority(p.getNode(),V):g=_.updateChild(p.getNode(),N,V,L,qg,null)}const v=Gg(e,g,p.isFullyInitialized()||ie(i),_.filtersNodes()),w=new Hc(l,v,u);return Jg(n,v,i,l,w,h)}function uc(n,e,i,s,l,u,d){const h=e.eventCache;let p,g;const _=new Hc(l,e,u);if(ie(i))g=n.filter.updateFullNode(e.eventCache.getNode(),s,d),p=is(e,g,!0,n.filter.filtersNodes());else{const v=te(i);if(v===".priority")g=n.filter.updatePriority(e.eventCache.getNode(),s),p=is(e,g,h.isFullyInitialized(),h.isFiltered());else{const w=Ee(i),N=h.getNode().getImmediateChild(v);let L;if(ie(w))L=s;else{const O=_.getCompleteChild(v);O!=null?Dc(w)===".priority"&&O.getChild(bg(w)).isEmpty()?L=O:L=O.updateChild(w,s):L=Q.EMPTY_NODE}if(N.equals(L))p=e;else{const O=n.filter.updateChild(h.getNode(),v,L,w,_,d);p=is(e,O,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function rm(n,e){return n.eventCache.isCompleteForChild(e)}function VC(n,e,i,s,l,u,d){let h=e;return s.foreach((p,g)=>{const _=Le(i,p);rm(e,te(_))&&(h=uc(n,h,_,g,l,u,d))}),s.foreach((p,g)=>{const _=Le(i,p);rm(e,te(_))||(h=uc(n,h,_,g,l,u,d))}),h}function im(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function cc(n,e,i,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;ie(i)?g=s:g=new we(null).setTree(i,s);const _=e.serverCache.getNode();return g.children.inorderTraversal((v,w)=>{if(_.hasChild(v)){const N=e.serverCache.getNode().getImmediateChild(v),L=im(n,N,w);p=dl(n,p,new me(v),L,l,u,d,h)}}),g.children.inorderTraversal((v,w)=>{const N=!e.serverCache.isCompleteForChild(v)&&w.value===null;if(!_.hasChild(v)&&!N){const L=e.serverCache.getNode().getImmediateChild(v),O=im(n,L,w);p=dl(n,p,new me(v),O,l,u,d,h)}}),p}function WC(n,e,i,s,l,u,d){if(cl(l,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(ie(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return dl(n,e,i,p.getNode().getChild(i),l,u,h,d);if(ie(i)){let g=new we(null);return p.getNode().forEachChild(qr,(_,v)=>{g=g.set(new me(_),v)}),cc(n,e,i,g,l,u,h,d)}else return e}else{let g=new we(null);return s.foreach((_,v)=>{const w=Le(i,_);p.isCompleteForPath(w)&&(g=g.set(_,p.getNode().getChild(w)))}),cc(n,e,i,g,l,u,h,d)}}function UC(n,e,i,s,l){const u=e.serverCache,d=Gg(e,u.getNode(),u.isFullyInitialized()||ie(i),u.isFiltered());return Jg(n,d,i,s,qg,l)}function jC(n,e,i,s,l,u){let d;if(cl(s,i)!=null)return e;{const h=new Hc(s,e,l),p=e.eventCache.getNode();let g;if(ie(i)||te(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=ul(s,_r(e));else{const v=e.serverCache.getNode();M(v instanceof Q,"serverChildren would be complete if leaf node"),_=jc(s,v)}_=_,g=n.filter.updateFullNode(p,_,u)}else{const _=te(i);let v=Bc(s,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=p.getImmediateChild(_)),v!=null?g=n.filter.updateChild(p,_,v,Ee(i),h,u):e.eventCache.getNode().hasChild(_)?g=n.filter.updateChild(p,_,Q.EMPTY_NODE,Ee(i),h,u):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=ul(s,_r(e)),d.isLeafNode()&&(g=n.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||cl(s,ce())!=null,is(e,g,d,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new bc(s.getIndex()),u=lC(s);this.processor_=OC(u);const d=i.serverCache,h=i.eventCache,p=l.updateFullNode(Q.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(Q.EMPTY_NODE,h.getNode(),null),_=new Qn(p,d.isFullyInitialized(),l.filtersNodes()),v=new Qn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=El(v,_),this.eventGenerator_=new pC(this.query_)}get query(){return this.query_}}function HC(n){return n.viewCache_.serverCache.getNode()}function $C(n){return al(n.viewCache_)}function GC(n,e){const i=_r(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!ie(e)&&!i.getImmediateChild(te(e)).isEmpty())?i.getChild(e):null}function sm(n){return n.eventRegistrations_.length===0}function YC(n,e){n.eventRegistrations_.push(e)}function om(n,e,i){const s=[];if(i){M(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const d=n.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function lm(n,e,i,s){e.type===$t.MERGE&&e.source.queryId!==null&&(M(_r(n.viewCache_),"We should always have a full cache before handling merges"),M(al(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=bC(n.processor_,l,e,i,s);return FC(n.processor_,u.viewCache),M(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,ev(n,u.changes,u.viewCache.eventCache.getNode(),null)}function QC(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(De,(u,d)=>{s.push(ti(u,d))}),i.isFullyInitialized()&&s.push(Hg(i.getNode())),ev(n,s,i.getNode(),e)}function ev(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return mC(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class tv{constructor(){this.views=new Map}}function KC(n){M(!fl,"__referenceConstructor has already been defined"),fl=n}function XC(){return M(fl,"Reference.ts has not been loaded"),fl}function ZC(n){return n.views.size===0}function $c(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return M(u!=null,"SyncTree gave us an op for an invalid query."),lm(u,e,i,s)}else{let u=[];for(const d of n.views.values())u=u.concat(lm(d,e,i,s));return u}}function nv(n,e,i,s,l){const u=e._queryIdentifier,d=n.views.get(u);if(!d){let h=ul(i,l?s:null),p=!1;h?p=!0:s instanceof Q?(h=jc(i,s),p=!1):(h=Q.EMPTY_NODE,p=!1);const g=El(new Qn(h,p,!1),new Qn(s,l,!1));return new BC(e,g)}return d}function qC(n,e,i,s,l,u){const d=nv(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,d),YC(d,i),QC(d,i)}function JC(n,e,i,s){const l=e._queryIdentifier,u=[];let d=[];const h=Kn(n);if(l==="default")for(const[p,g]of n.views.entries())d=d.concat(om(g,i,s)),sm(g)&&(n.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=n.views.get(l);p&&(d=d.concat(om(p,i,s)),sm(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Kn(n)&&u.push(new(XC())(e._repo,e._path)),{removed:u,events:d}}function rv(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function $n(n,e){let i=null;for(const s of n.views.values())i=i||GC(s,e);return i}function iv(n,e){if(e._queryParams.loadsAllData())return Il(n);{const s=e._queryIdentifier;return n.views.get(s)}}function sv(n,e){return iv(n,e)!=null}function Kn(n){return Il(n)!=null}function Il(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl;function e1(n){M(!hl,"__referenceConstructor has already been defined"),hl=n}function t1(){return M(hl,"Reference.ts has not been loaded"),hl}let n1=1;class am{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=AC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ov(n,e,i,s,l){return yC(n.pendingWriteTree_,e,i,s,l),l?li(n,new vr(Vc(),e,i)):[]}function r1(n,e,i,s){wC(n.pendingWriteTree_,e,i,s);const l=we.fromObject(i);return li(n,new ni(Vc(),e,l))}function Un(n,e,i=!1){const s=SC(n.pendingWriteTree_,e);if(EC(n.pendingWriteTree_,e)){let u=new we(null);return s.snap!=null?u=u.set(ce(),!0):Ke(s.children,d=>{u=u.set(new me(d),!0)}),li(n,new ll(s.path,u,i))}else return[]}function Cs(n,e,i){return li(n,new vr(Wc(),e,i))}function i1(n,e,i){const s=we.fromObject(i);return li(n,new ni(Wc(),e,s))}function s1(n,e){return li(n,new ps(Wc(),e))}function o1(n,e,i){const s=Yc(n,i);if(s){const l=Qc(s),u=l.path,d=l.queryId,h=it(u,e),p=new ps(Uc(d),h);return Kc(n,u,p)}else return[]}function pl(n,e,i,s,l=!1){const u=e._path,d=n.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||sv(d,e))){const p=JC(d,e,i,s);ZC(d)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const g=p.removed;if(h=p.events,!l){const _=g.findIndex(w=>w._queryParams.loadsAllData())!==-1,v=n.syncPointTree_.findOnPath(u,(w,N)=>Kn(N));if(_&&!v){const w=n.syncPointTree_.subtree(u);if(!w.isEmpty()){const N=u1(w);for(let L=0;L<N.length;++L){const O=N[L],V=O.query,G=cv(n,O);n.listenProvider_.startListening(os(V),ms(n,V),G.hashFn,G.onComplete)}}}!v&&g.length>0&&!s&&(_?n.listenProvider_.stopListening(os(e),null):g.forEach(w=>{const N=n.queryToTagMap.get(kl(w));n.listenProvider_.stopListening(os(w),N)}))}c1(n,g)}return h}function lv(n,e,i,s){const l=Yc(n,s);if(l!=null){const u=Qc(l),d=u.path,h=u.queryId,p=it(d,e),g=new vr(Uc(h),p,i);return Kc(n,d,g)}else return[]}function l1(n,e,i,s){const l=Yc(n,s);if(l){const u=Qc(l),d=u.path,h=u.queryId,p=it(d,e),g=we.fromObject(i),_=new ni(Uc(h),p,g);return Kc(n,d,_)}else return[]}function dc(n,e,i,s=!1){const l=e._path;let u=null,d=!1;n.syncPointTree_.foreachOnPath(l,(w,N)=>{const L=it(w,l);u=u||$n(N,L),d=d||Kn(N)});let h=n.syncPointTree_.get(l);h?(d=d||Kn(h),u=u||$n(h,ce())):(h=new tv,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=Q.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((N,L)=>{const O=$n(L,ce());O&&(u=u.updateImmediateChild(N,O))}));const g=sv(h,e);if(!g&&!e._queryParams.loadsAllData()){const w=kl(e);M(!n.queryToTagMap.has(w),"View does not exist, but we have a tag");const N=d1();n.queryToTagMap.set(w,N),n.tagToQueryMap.set(N,w)}const _=Cl(n.pendingWriteTree_,l);let v=qC(h,e,i,_,u,p);if(!g&&!d&&!s){const w=iv(h,e);v=v.concat(f1(n,e,w))}return v}function Gc(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(d,h)=>{const p=it(d,e),g=$n(h,p);if(g)return g});return Kg(l,e,u,i,!0)}function a1(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(g,_)=>{const v=it(g,i);s=s||$n(_,v)});let l=n.syncPointTree_.get(i);l?s=s||$n(l,ce()):(l=new tv,n.syncPointTree_=n.syncPointTree_.set(i,l));const u=s!=null,d=u?new Qn(s,!0,!1):null,h=Cl(n.pendingWriteTree_,e._path),p=nv(l,e,h,u?d.getNode():Q.EMPTY_NODE,u);return $C(p)}function li(n,e){return av(e,n.syncPointTree_,null,Cl(n.pendingWriteTree_,ce()))}function av(n,e,i,s){if(ie(n.path))return uv(n,e,i,s);{const l=e.get(ce());i==null&&l!=null&&(i=$n(l,ce()));let u=[];const d=te(n.path),h=n.operationForChild(d),p=e.children.get(d);if(p&&h){const g=i?i.getImmediateChild(d):null,_=Xg(s,d);u=u.concat(av(h,p,g,_))}return l&&(u=u.concat($c(l,n,s,i))),u}}function uv(n,e,i,s){const l=e.get(ce());i==null&&l!=null&&(i=$n(l,ce()));let u=[];return e.children.inorderTraversal((d,h)=>{const p=i?i.getImmediateChild(d):null,g=Xg(s,d),_=n.operationForChild(d);_&&(u=u.concat(uv(_,h,p,g)))}),l&&(u=u.concat($c(l,n,s,i))),u}function cv(n,e){const i=e.query,s=ms(n,i);return{hashFn:()=>(HC(e)||Q.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?o1(n,i._path,s):s1(n,i._path);{const u=sE(l,i);return pl(n,i,null,u)}}}}function ms(n,e){const i=kl(e);return n.queryToTagMap.get(i)}function kl(n){return n._path.toString()+"$"+n._queryIdentifier}function Yc(n,e){return n.tagToQueryMap.get(e)}function Qc(n){const e=n.indexOf("$");return M(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new me(n.substr(0,e))}}function Kc(n,e,i){const s=n.syncPointTree_.get(e);M(s,"Missing sync point for query tag that we're tracking");const l=Cl(n.pendingWriteTree_,e);return $c(s,i,l,null)}function u1(n){return n.fold((e,i,s)=>{if(i&&Kn(i))return[Il(i)];{let l=[];return i&&(l=rv(i)),Ke(s,(u,d)=>{l=l.concat(d)}),l}})}function os(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(t1())(n._repo,n._path):n}function c1(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=kl(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function d1(){return n1++}function f1(n,e,i){const s=e._path,l=ms(n,e),u=cv(n,i),d=n.listenProvider_.startListening(os(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)M(!Kn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,_,v)=>{if(!ie(g)&&_&&Kn(_))return[Il(_).query];{let w=[];return _&&(w=w.concat(rv(_).map(N=>N.query))),Ke(v,(N,L)=>{w=w.concat(L)}),w}});for(let g=0;g<p.length;++g){const _=p[g];n.listenProvider_.stopListening(os(_),ms(n,_))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Xc(i)}node(){return this.node_}}class Zc{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Le(this.path_,e);return new Zc(this.syncTree_,i)}node(){return Gc(this.syncTree_,this.path_)}}const h1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},um=function(n,e,i){if(!n||typeof n!="object")return n;if(M(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return p1(n[".sv"],e,i);if(typeof n[".sv"]=="object")return m1(n[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},p1=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:M(!1,"Unexpected server value: "+n)}},m1=function(n,e,i){n.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&M(!1,"Unexpected increment value: "+s);const l=e.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},dv=function(n,e,i,s){return qc(e,new Zc(i,n),s)},fv=function(n,e,i){return qc(n,new Xc(e),i)};function qc(n,e,i){const s=n.getPriority().val(),l=um(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const d=n,h=um(d.getValue(),e,i);return h!==d.getValue()||l!==d.getPriority().val()?new He(h,Ve(l)):n}else{const d=n;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new He(l))),d.forEachChild(De,(h,p)=>{const g=qc(p,e.getImmediateChild(h),i);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function ed(n,e){let i=e instanceof me?e:new me(e),s=n,l=te(i);for(;l!==null;){const u=Jr(s.node.children,l)||{children:{},childCount:0};s=new Jc(l,s,u),i=Ee(i),l=te(i)}return s}function ai(n){return n.node.value}function hv(n,e){n.node.value=e,fc(n)}function pv(n){return n.node.childCount>0}function g1(n){return ai(n)===void 0&&!pv(n)}function Tl(n,e){Ke(n.node.children,(i,s)=>{e(new Jc(i,n,s))})}function mv(n,e,i,s){i&&e(n),Tl(n,l=>{mv(l,e,!0)})}function v1(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Is(n){return new me(n.parent===null?n.name:Is(n.parent)+"/"+n.name)}function fc(n){n.parent!==null&&_1(n.parent,n.name,n)}function _1(n,e,i){const s=g1(i),l=nn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,fc(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,fc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=/[\[\].#$\/\u0000-\u001F\u007F]/,w1=/[\[\].#$\u0000-\u001F\u007F]/,ju=10*1024*1024,td=function(n){return typeof n=="string"&&n.length!==0&&!y1.test(n)},gv=function(n){return typeof n=="string"&&n.length!==0&&!w1.test(n)},S1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gv(n)},E1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Rc(n)||n&&typeof n=="object"&&nn(n,".sv")},C1=function(n,e,i,s){Nl(vl(n,"value"),e,i)},Nl=function(n,e,i){const s=i instanceof me?new VE(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+dr(s));if(typeof e=="function")throw new Error(n+"contains a function "+dr(s)+" with contents = "+e.toString());if(Rc(e))throw new Error(n+"contains "+e.toString()+" "+dr(s));if(typeof e=="string"&&e.length>ju/3&&_l(e)>ju)throw new Error(n+"contains a string greater than "+ju+" utf8 bytes "+dr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Ke(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!td(d)))throw new Error(n+" contains an invalid key ("+d+") "+dr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WE(s,d),Nl(n,h,s),UE(s)}),l&&u)throw new Error(n+' contains ".value" child '+dr(s)+" in addition to actual children.")}},I1=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=cs(s);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!td(u[d]))throw new Error(n+"contains an invalid key ("+u[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zE);let l=null;for(i=0;i<e.length;i++){if(s=e[i],l!==null&&Dt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},k1=function(n,e,i,s){const l=vl(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];Ke(e,(d,h)=>{const p=new me(d);if(Nl(l,h,Le(i,p)),Dc(p)===".priority"&&!E1(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),I1(l,u)},vv=function(n,e,i,s){if(!gv(i))throw new Error(vl(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},T1=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),vv(n,e,i)},_v=function(n,e){if(te(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},N1=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!td(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!S1(i))throw new Error(vl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rl(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!Mc(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function yv(n,e,i){Rl(n,i),wv(n,s=>Mc(s,e))}function Mt(n,e,i){Rl(n,i),wv(n,s=>Dt(s,e)||Dt(e,s))}function wv(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(x1(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function x1(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();ns&&Qe("event: "+i.toString()),oi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="repo_interrupt",A1=25;class L1{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new R1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ol(),this.transactionQueueTree_=new Jc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D1(n,e,i){if(n.stats_=Ac(n.repoInfo_),n.forceRestClient_||uE())n.server_=new sl(n.repoInfo_,(s,l,u,d)=>{cm(n,s,l,u,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dm(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new gn(n.repoInfo_,e,(s,l,u,d)=>{cm(n,s,l,u,d)},s=>{dm(n,s)},s=>{O1(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=pE(n.repoInfo_,()=>new hC(n.stats_,n.server_)),n.infoData_=new aC,n.infoSyncTree_=new am({startListening:(s,l,u,d)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=Cs(n.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),nd(n,"connected",!1),n.serverSyncTree_=new am({startListening:(s,l,u,d)=>(n.server_.listen(s,u,l,(h,p)=>{const g=d(h,p);Mt(n.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function M1(n){const i=n.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function xl(n){return h1({timestamp:M1(n)})}function cm(n,e,i,s,l){n.dataUpdateCount++;const u=new me(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let d=[];if(l)if(s){const p=Zo(i,g=>Ve(g));d=l1(n.serverSyncTree_,u,p,l)}else{const p=Ve(i);d=lv(n.serverSyncTree_,u,p,l)}else if(s){const p=Zo(i,g=>Ve(g));d=i1(n.serverSyncTree_,u,p)}else{const p=Ve(i);d=Cs(n.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=ii(n,u)),Mt(n.eventQueue_,h,d)}function dm(n,e){nd(n,"connected",e),e===!1&&V1(n)}function O1(n,e){Ke(e,(i,s)=>{nd(n,i,s)})}function nd(n,e,i){const s=new me("/.info/"+e),l=Ve(i);n.infoData_.updateSnapshot(s,l);const u=Cs(n.infoSyncTree_,s,l);Mt(n.eventQueue_,s,u)}function rd(n){return n.nextWriteId_++}function F1(n,e,i){const s=a1(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ve(l).withIndex(e._queryParams.getIndex());dc(n.serverSyncTree_,e,i,!0);let d;if(e._queryParams.loadsAllData())d=Cs(n.serverSyncTree_,e._path,u);else{const h=ms(n.serverSyncTree_,e);d=lv(n.serverSyncTree_,e._path,u,h)}return Mt(n.eventQueue_,e._path,d),pl(n.serverSyncTree_,e,i,null,!0),u},l=>(ks(n,"get for query "+We(e)+" failed: "+l),Promise.reject(new Error(l))))}function b1(n,e,i,s,l){ks(n,"set",{path:e.toString(),value:i,priority:s});const u=xl(n),d=Ve(i,s),h=Gc(n.serverSyncTree_,e),p=fv(d,h,u),g=rd(n),_=ov(n.serverSyncTree_,e,p,g,!0);Rl(n.eventQueue_,_),n.server_.put(e.toString(),d.val(!0),(w,N)=>{const L=w==="ok";L||st("set at "+e+" failed: "+w);const O=Un(n.serverSyncTree_,g,!L);Mt(n.eventQueue_,e,O),hc(n,l,w,N)});const v=sd(n,e);ii(n,v),Mt(n.eventQueue_,v,[])}function z1(n,e,i,s){ks(n,"update",{path:e.toString(),value:i});let l=!0;const u=xl(n),d={};if(Ke(i,(h,p)=>{l=!1,d[h]=dv(Le(e,h),Ve(p),n.serverSyncTree_,u)}),l)Qe("update() called with empty data.  Don't do anything."),hc(n,s,"ok",void 0);else{const h=rd(n),p=r1(n.serverSyncTree_,e,d,h);Rl(n.eventQueue_,p),n.server_.merge(e.toString(),i,(g,_)=>{const v=g==="ok";v||st("update at "+e+" failed: "+g);const w=Un(n.serverSyncTree_,h,!v),N=w.length>0?ii(n,e):e;Mt(n.eventQueue_,N,w),hc(n,s,g,_)}),Ke(i,g=>{const _=sd(n,Le(e,g));ii(n,_)}),Mt(n.eventQueue_,e,[])}}function V1(n){ks(n,"onDisconnectEvents");const e=xl(n),i=ol();sc(n.onDisconnect_,ce(),(l,u)=>{const d=dv(l,u,n.serverSyncTree_,e);$g(i,l,d)});let s=[];sc(i,ce(),(l,u)=>{s=s.concat(Cs(n.serverSyncTree_,l,u));const d=sd(n,l);ii(n,d)}),n.onDisconnect_=ol(),Mt(n.eventQueue_,ce(),s)}function W1(n,e,i){let s;te(e._path)===".info"?s=dc(n.infoSyncTree_,e,i):s=dc(n.serverSyncTree_,e,i),yv(n.eventQueue_,e._path,s)}function U1(n,e,i){let s;te(e._path)===".info"?s=pl(n.infoSyncTree_,e,i):s=pl(n.serverSyncTree_,e,i),yv(n.eventQueue_,e._path,s)}function j1(n){n.persistentConnection_&&n.persistentConnection_.interrupt(P1)}function ks(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),Qe(i,...e)}function hc(n,e,i,s){e&&oi(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function Sv(n,e,i){return Gc(n.serverSyncTree_,e,i)||Q.EMPTY_NODE}function id(n,e=n.transactionQueueTree_){if(e||Pl(n,e),ai(e)){const i=Cv(n,e);M(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&B1(n,Is(e),i)}else pv(e)&&Tl(e,i=>{id(n,i)})}function B1(n,e,i){const s=i.map(g=>g.currentWriteId),l=Sv(n,e,s);let u=l;const d=l.hash();for(let g=0;g<i.length;g++){const _=i[g];M(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=it(e,_.path);u=u.updateChild(v,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,g=>{ks(n,"transaction put response",{path:p.toString(),status:g});let _=[];if(g==="ok"){const v=[];for(let w=0;w<i.length;w++)i[w].status=2,_=_.concat(Un(n.serverSyncTree_,i[w].currentWriteId)),i[w].onComplete&&v.push(()=>i[w].onComplete(null,!0,i[w].currentOutputSnapshotResolved)),i[w].unwatcher();Pl(n,ed(n.transactionQueueTree_,e)),id(n,n.transactionQueueTree_),Mt(n.eventQueue_,e,_);for(let w=0;w<v.length;w++)oi(v[w])}else{if(g==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{st("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=g}ii(n,e)}},d)}function ii(n,e){const i=Ev(n,e),s=Is(i),l=Cv(n,i);return H1(n,l,s),s}function H1(n,e,i){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=it(i,p.path);let _=!1,v;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,v=p.abortReason,l=l.concat(Un(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=A1)_=!0,v="maxretry",l=l.concat(Un(n.serverSyncTree_,p.currentWriteId,!0));else{const w=Sv(n,p.path,d);p.currentInputSnapshot=w;const N=e[h].update(w.val());if(N!==void 0){Nl("transaction failed: Data returned ",N,p.path);let L=Ve(N);typeof N=="object"&&N!=null&&nn(N,".priority")||(L=L.updatePriority(w.getPriority()));const V=p.currentWriteId,G=xl(n),J=fv(L,w,G);p.currentOutputSnapshotRaw=L,p.currentOutputSnapshotResolved=J,p.currentWriteId=rd(n),d.splice(d.indexOf(V),1),l=l.concat(ov(n.serverSyncTree_,p.path,J,p.currentWriteId,p.applyLocally)),l=l.concat(Un(n.serverSyncTree_,V,!0))}else _=!0,v="nodata",l=l.concat(Un(n.serverSyncTree_,p.currentWriteId,!0))}Mt(n.eventQueue_,i,l),l=[],_&&(e[h].status=2,function(w){setTimeout(w,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}Pl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)oi(s[h]);id(n,n.transactionQueueTree_)}function Ev(n,e){let i,s=n.transactionQueueTree_;for(i=te(e);i!==null&&ai(s)===void 0;)s=ed(s,i),e=Ee(e),i=te(e);return s}function Cv(n,e){const i=[];return Iv(n,e,i),i.sort((s,l)=>s.order-l.order),i}function Iv(n,e,i){const s=ai(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);Tl(e,l=>{Iv(n,l,i)})}function Pl(n,e){const i=ai(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,hv(e,i.length>0?i:void 0)}Tl(e,s=>{Pl(n,s)})}function sd(n,e){const i=Is(Ev(n,e)),s=ed(n.transactionQueueTree_,e);return v1(s,l=>{Bu(n,l)}),Bu(n,s),mv(s,l=>{Bu(n,l)}),i}function Bu(n,e){const i=ai(e);if(i){const s=[];let l=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(M(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(M(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),l=l.concat(Un(n.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&s.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?hv(e,void 0):i.length=u+1,Mt(n.eventQueue_,Is(e),l);for(let d=0;d<s.length;d++)oi(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function G1(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):st(`Invalid query segment '${i}' in query '${n}'`)}return e}const fm=function(n,e){const i=Y1(n),s=i.namespace;i.domain==="firebase.com"&&yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||eE();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Rg(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new me(i.pathString)}},Y1=function(n){let e="",i="",s="",l="",u="",d=!0,h="https",p=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let _=n.indexOf("/");_===-1&&(_=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(_,v)),_<v&&(l=$1(n.substring(_,v)));const w=G1(n.substring(Math.min(n.length,v)));g=e.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const N=e.slice(0,g);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const L=e.indexOf(".");s=e.substring(0,L).toLowerCase(),i=e.substring(L+1),u=s}"ns"in w&&(u=w.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class K1{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return ie(this._path)?null:Dc(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const e=qp(this._queryParams),i=xc(e);return i==="{}"?"default":i}get _queryObject(){return qp(this._queryParams)}isEqual(e){if(e=Xn(e),!(e instanceof od))return!1;const i=this._repo===e._repo,s=Mc(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+bE(this._path)}}class wn extends od{constructor(e,i){super(e,i,new zc,!1)}get parent(){const e=bg(this._path);return e===null?null:new wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class gs{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new me(e),s=pc(this.ref,e);return new gs(this._node.getChild(i),s,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new gs(l,pc(this.ref,s),De)))}hasChild(e){const i=new me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bo(n,e){return n=Xn(n),n._checkNotDeleted("ref"),e!==void 0?pc(n._root,e):n._root}function pc(n,e){return n=Xn(n),te(n._path)===null?T1("child","path",e):vv("child","path",e),new wn(n._repo,Le(n._path,e))}function hm(n){return _v("remove",n._path),Qo(n,null)}function Qo(n,e){n=Xn(n),_v("set",n._path),C1("set",e,n._path);const i=new _s;return b1(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function pm(n,e){k1("update",e,n._path);const i=new _s;return z1(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function mm(n){n=Xn(n);const e=new kv(()=>{}),i=new Al(e);return F1(n._repo,n,i).then(s=>new gs(s,new wn(n._repo,n._path),n._queryParams.getIndex()))}class Al{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new Q1("value",this,new gs(e.snapshotNode,new wn(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new K1(this,e,i):null}matches(e){return e instanceof Al?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function X1(n,e,i,s,l){const u=new kv(i,void 0),d=new Al(u);return W1(n._repo,n,d),()=>U1(n._repo,n,d)}function Z1(n,e,i,s){return X1(n,"value",e)}KC(wn);e1(wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="FIREBASE_DATABASE_EMULATOR_HOST",mc={};let J1=!1;function eI(n,e,i,s){n.repoInfo_=new Rg(`${e}:${i}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function tI(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d=fm(u,l),h=d.repoInfo,p;typeof process<"u"&&Mp&&(p=Mp[q1]),p?(u=`http://${p}?ns=${h.namespace}`,d=fm(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new dE(n.name,n.options,e);N1("Invalid Firebase Database URL",d),ie(d.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=rI(h,n,g,new cE(n.name,i));return new iI(_,n)}function nI(n,e){const i=mc[e];(!i||i[n.key]!==n)&&yn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),j1(n),delete i[n.key]}function rI(n,e,i,s){let l=mc[e.name];l||(l={},mc[e.name]=l);let u=l[n.toURLString()];return u&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new L1(n,J1,i,s),l[n.toURLString()]=u,u}class iI{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yn("Cannot call "+e+" on a deleted database.")}}function sI(n=Bm(),e){const i=ys(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=tw("database");s&&oI(i,...s)}return i}function oI(n,e,i,s={}){n=Xn(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&yn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Yo(Yo.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:nw(s.mockUserToken,n.app.options.projectId);u=new Yo(d)}eI(l,e,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){QS(v0),Gn(new vn("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return tI(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),tn(Op,Fp,n),tn(Op,Fp,"esm2017")}gn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};gn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};lI();const aI={apiKey:"AIzaSyATTHL4vXcRODka37esNLajwZw63TXCnzo",authDomain:"digital-ag.firebaseapp.com",databaseURL:"https://digital-ag-default-rtdb.firebaseio.com/",projectId:"digital-ag",storageBucket:"digital-ag.firebasestorage.app",messagingSenderId:"905329543590",appId:"1:905329543590:web:8e20324e331feabd6d2767",measurementId:"G-WQLHHXPDCT"},Tv=jm(aI),Ho=sI(Tv),Hu=HS(Tv);var gc=function(){return gc=Object.assign||function(e){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u])}return e},gc.apply(this,arguments)};function rn(n,e,i,s){function l(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(_){try{g(s.next(_))}catch(v){d(v)}}function p(_){try{g(s.throw(_))}catch(v){d(v)}}function g(_){_.done?u(_.value):l(_.value).then(h,p)}g((s=s.apply(n,e||[])).next())})}function sn(n,e){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(i=0)),i;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,l=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=e.call(n,i)}catch(_){g=[6,_],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function Nv(n,e,i){if(i||arguments.length===2)for(var s=0,l=e.length,u;s<l;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return n.concat(u||Array.prototype.slice.call(e))}var Rv="4.5.1";function ml(n,e){return new Promise(function(i){return setTimeout(i,n,e)})}function uI(){return new Promise(function(n){var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(null)})}function cI(n,e){e===void 0&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise(function(s){return i.call(window,function(){return s()},{timeout:e})}):ml(Math.min(n,e))}function xv(n){return!!n&&typeof n.then=="function"}function gm(n,e){try{var i=n();xv(i)?i.then(function(s){return e(!0,s)},function(s){return e(!1,s)}):e(!0,i)}catch(s){e(!1,s)}}function vm(n,e,i){return i===void 0&&(i=16),rn(this,void 0,void 0,function(){var s,l,u,d;return sn(this,function(h){switch(h.label){case 0:s=Array(n.length),l=Date.now(),u=0,h.label=1;case 1:return u<n.length?(s[u]=e(n[u],u),d=Date.now(),d>=l+i?(l=d,[4,uI()]):[3,3]):[3,4];case 2:h.sent(),h.label=3;case 3:return++u,[3,1];case 4:return[2,s]}})})}function vs(n){return n.then(void 0,function(){}),n}function dI(n,e){for(var i=0,s=n.length;i<s;++i)if(n[i]===e)return!0;return!1}function fI(n,e){return!dI(n,e)}function ld(n){return parseInt(n)}function Ht(n){return parseFloat(n)}function pn(n,e){return typeof n=="number"&&isNaN(n)?e:n}function ot(n){return n.reduce(function(e,i){return e+(i?1:0)},0)}function Pv(n,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(n/e)*e;var i=1/e;return Math.round(n*i)/i}function hI(n){for(var e,i,s="Unexpected syntax '".concat(n,"'"),l=/^\s*([a-z-]*)(.*)$/i.exec(n),u=l[1]||void 0,d={},h=/([.:#][\w-]+|\[.+?\])/gi,p=function(w,N){d[w]=d[w]||[],d[w].push(N)};;){var g=h.exec(l[2]);if(!g)break;var _=g[0];switch(_[0]){case".":p("class",_.slice(1));break;case"#":p("id",_.slice(1));break;case"[":{var v=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(_);if(v)p(v[1],(i=(e=v[4])!==null&&e!==void 0?e:v[5])!==null&&i!==void 0?i:"");else throw new Error(s);break}default:throw new Error(s)}}return[u,d]}function pI(n){for(var e=new Uint8Array(n.length),i=0;i<n.length;i++){var s=n.charCodeAt(i);if(s>127)return new TextEncoder().encode(n);e[i]=s}return e}function Wn(n,e){var i=n[0]>>>16,s=n[0]&65535,l=n[1]>>>16,u=n[1]&65535,d=e[0]>>>16,h=e[0]&65535,p=e[1]>>>16,g=e[1]&65535,_=0,v=0,w=0,N=0;N+=u+g,w+=N>>>16,N&=65535,w+=l+p,v+=w>>>16,w&=65535,v+=s+h,_+=v>>>16,v&=65535,_+=i+d,_&=65535,n[0]=_<<16|v,n[1]=w<<16|N}function Lt(n,e){var i=n[0]>>>16,s=n[0]&65535,l=n[1]>>>16,u=n[1]&65535,d=e[0]>>>16,h=e[0]&65535,p=e[1]>>>16,g=e[1]&65535,_=0,v=0,w=0,N=0;N+=u*g,w+=N>>>16,N&=65535,w+=l*g,v+=w>>>16,w&=65535,w+=u*p,v+=w>>>16,w&=65535,v+=s*g,_+=v>>>16,v&=65535,v+=l*p,_+=v>>>16,v&=65535,v+=u*h,_+=v>>>16,v&=65535,_+=i*g+s*p+l*h+u*d,_&=65535,n[0]=_<<16|v,n[1]=w<<16|N}function Yr(n,e){var i=n[0];e%=64,e===32?(n[0]=n[1],n[1]=i):e<32?(n[0]=i<<e|n[1]>>>32-e,n[1]=n[1]<<e|i>>>32-e):(e-=32,n[0]=n[1]<<e|i>>>32-e,n[1]=i<<e|n[1]>>>32-e)}function Ct(n,e){e%=64,e!==0&&(e<32?(n[0]=n[1]>>>32-e,n[1]=n[1]<<e):(n[0]=n[1]<<e-32,n[1]=0))}function Ne(n,e){n[0]^=e[0],n[1]^=e[1]}var mI=[4283543511,3981806797],gI=[3301882366,444984403];function _m(n){var e=[0,n[0]>>>1];Ne(n,e),Lt(n,mI),e[1]=n[0]>>>1,Ne(n,e),Lt(n,gI),e[1]=n[0]>>>1,Ne(n,e)}var $o=[2277735313,289559509],Go=[1291169091,658871167],ym=[0,5],vI=[0,1390208809],_I=[0,944331445];function yI(n,e){var i=pI(n);e=e||0;var s=[0,i.length],l=s[1]%16,u=s[1]-l,d=[0,e],h=[0,e],p=[0,0],g=[0,0],_;for(_=0;_<u;_=_+16)p[0]=i[_+4]|i[_+5]<<8|i[_+6]<<16|i[_+7]<<24,p[1]=i[_]|i[_+1]<<8|i[_+2]<<16|i[_+3]<<24,g[0]=i[_+12]|i[_+13]<<8|i[_+14]<<16|i[_+15]<<24,g[1]=i[_+8]|i[_+9]<<8|i[_+10]<<16|i[_+11]<<24,Lt(p,$o),Yr(p,31),Lt(p,Go),Ne(d,p),Yr(d,27),Wn(d,h),Lt(d,ym),Wn(d,vI),Lt(g,Go),Yr(g,33),Lt(g,$o),Ne(h,g),Yr(h,31),Wn(h,d),Lt(h,ym),Wn(h,_I);p[0]=0,p[1]=0,g[0]=0,g[1]=0;var v=[0,0];switch(l){case 15:v[1]=i[_+14],Ct(v,48),Ne(g,v);case 14:v[1]=i[_+13],Ct(v,40),Ne(g,v);case 13:v[1]=i[_+12],Ct(v,32),Ne(g,v);case 12:v[1]=i[_+11],Ct(v,24),Ne(g,v);case 11:v[1]=i[_+10],Ct(v,16),Ne(g,v);case 10:v[1]=i[_+9],Ct(v,8),Ne(g,v);case 9:v[1]=i[_+8],Ne(g,v),Lt(g,Go),Yr(g,33),Lt(g,$o),Ne(h,g);case 8:v[1]=i[_+7],Ct(v,56),Ne(p,v);case 7:v[1]=i[_+6],Ct(v,48),Ne(p,v);case 6:v[1]=i[_+5],Ct(v,40),Ne(p,v);case 5:v[1]=i[_+4],Ct(v,32),Ne(p,v);case 4:v[1]=i[_+3],Ct(v,24),Ne(p,v);case 3:v[1]=i[_+2],Ct(v,16),Ne(p,v);case 2:v[1]=i[_+1],Ct(v,8),Ne(p,v);case 1:v[1]=i[_],Ne(p,v),Lt(p,$o),Yr(p,31),Lt(p,Go),Ne(d,p)}return Ne(d,s),Ne(h,s),Wn(d,h),Wn(h,d),_m(d),_m(h),Wn(d,h),Wn(h,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)}function wI(n){var e;return gc({name:n.name,message:n.message,stack:(e=n.stack)===null||e===void 0?void 0:e.split(`
`)},n)}function SI(n){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(n))}function EI(n){return typeof n!="function"}function CI(n,e){var i=vs(new Promise(function(s){var l=Date.now();gm(n.bind(null,e),function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var h=Date.now()-l;if(!u[0])return s(function(){return{error:u[1],duration:h}});var p=u[1];if(EI(p))return s(function(){return{value:p,duration:h}});s(function(){return new Promise(function(g){var _=Date.now();gm(p,function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var N=h+Date.now()-_;if(!v[0])return g({error:v[1],duration:N});g({value:v[1],duration:N})})})})})}));return function(){return i.then(function(l){return l()})}}function II(n,e,i,s){var l=Object.keys(n).filter(function(d){return fI(i,d)}),u=vs(vm(l,function(d){return CI(n[d],e)},s));return function(){return rn(this,void 0,void 0,function(){var h,p,g,_,v;return sn(this,function(w){switch(w.label){case 0:return[4,u];case 1:return h=w.sent(),[4,vm(h,function(N){return vs(N())},s)];case 2:return p=w.sent(),[4,Promise.all(p)];case 3:for(g=w.sent(),_={},v=0;v<l.length;++v)_[l[v]]=g[v];return[2,_]}})})}}function Av(){var n=window,e=navigator;return ot(["MSCSSMatrix"in n,"msSetImmediate"in n,"msIndexedDB"in n,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function kI(){var n=window,e=navigator;return ot(["msWriteProfilerMark"in n,"MSStream"in n,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!Av()}function Ts(){var n=window,e=navigator;return ot(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,e.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in n,"BatteryManager"in n,"webkitMediaStream"in n,"webkitSpeechGrammar"in n])>=5}function Yt(){var n=window,e=navigator;return ot(["ApplePayError"in n,"CSSPrimitiveValue"in n,"Counter"in n,e.vendor.indexOf("Apple")===0,"RGBColor"in n,"WebKitMediaKeys"in n])>=4}function ad(){var n=window,e=n.HTMLElement,i=n.Document;return ot(["safari"in n,!("ongestureend"in n),!("TouchEvent"in n),!("orientation"in n),e&&!("autocapitalize"in e.prototype),i&&"pointerLockElement"in i.prototype])>=4}function Ns(){var n=window;return SI(n.print)&&String(n.browser)==="[object WebPageNamespace]"}function Lv(){var n,e,i=window;return ot(["buildID"in navigator,"MozAppearance"in((e=(n=document.documentElement)===null||n===void 0?void 0:n.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}function TI(){var n=window;return ot([!("MediaSettingsRange"in n),"RTCEncodedAudioFrame"in n,""+n.Intl=="[object Intl]",""+n.Reflect=="[object Reflect]"])>=3}function NI(){var n=window,e=n.URLPattern;return ot(["union"in Set.prototype,"Iterator"in n,e&&"hasRegExpGroups"in e.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function RI(){var n=window;return ot(["DOMRectList"in n,"RTCPeerConnectionIceEvent"in n,"SVGGeometryElement"in n,"ontransitioncancel"in n])>=3}function Rs(){var n=window,e=navigator,i=n.CSS,s=n.HTMLButtonElement;return ot([!("getStorageUpdates"in e),s&&"popover"in s.prototype,"CSSCounterStyleRule"in n,i.supports("font-size-adjust: ex-height 0.5"),i.supports("text-transform: full-width")])>=4}function xI(){if(navigator.platform==="iPad")return!0;var n=screen,e=n.width/n.height;return ot(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function PI(){var n=document;return n.fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||null}function AI(){var n=document;return(n.exitFullscreen||n.msExitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen).call(n)}function ud(){var n=Ts(),e=Lv(),i=window,s=navigator,l="connection";return n?ot([!("SharedWorker"in i),s[l]&&"ontypechange"in s[l],!("sinkId"in new Audio)])>=2:e?ot(["onorientationchange"in i,"orientation"in i,/android/i.test(s.appVersion)])>=2:!1}function LI(){var n=navigator,e=window,i=Audio.prototype,s=e.visualViewport;return ot(["srLatency"in i,"srChannelCount"in i,"devicePosture"in n,s&&"segments"in s,"getTextInformation"in Image.prototype])>=3}function DI(){return FI()?-4:MI()}function MI(){var n=window,e=n.OfflineAudioContext||n.webkitOfflineAudioContext;if(!e)return-2;if(OI())return-1;var i=4500,s=5e3,l=new e(1,s,44100),u=l.createOscillator();u.type="triangle",u.frequency.value=1e4;var d=l.createDynamicsCompressor();d.threshold.value=-50,d.knee.value=40,d.ratio.value=12,d.attack.value=0,d.release.value=.25,u.connect(d),d.connect(l.destination),u.start(0);var h=bI(l),p=h[0],g=h[1],_=vs(p.then(function(v){return zI(v.getChannelData(0).subarray(i))},function(v){if(v.name==="timeout"||v.name==="suspended")return-3;throw v}));return function(){return g(),_}}function OI(){return Yt()&&!ad()&&!RI()}function FI(){return Yt()&&Rs()&&Ns()||Ts()&&LI()&&NI()}function bI(n){var e=3,i=500,s=500,l=5e3,u=function(){},d=new Promise(function(h,p){var g=!1,_=0,v=0;n.oncomplete=function(L){return h(L.renderedBuffer)};var w=function(){setTimeout(function(){return p(wm("timeout"))},Math.min(s,v+l-Date.now()))},N=function(){try{var L=n.startRendering();switch(xv(L)&&vs(L),n.state){case"running":v=Date.now(),g&&w();break;case"suspended":document.hidden||_++,g&&_>=e?p(wm("suspended")):setTimeout(N,i);break}}catch(O){p(O)}};N(),u=function(){g||(g=!0,v>0&&w())}});return[d,u]}function zI(n){for(var e=0,i=0;i<n.length;++i)e+=Math.abs(n[i]);return e}function wm(n){var e=new Error(n);return e.name=n,e}function Dv(n,e,i){var s,l,u;return i===void 0&&(i=50),rn(this,void 0,void 0,function(){var d,h;return sn(this,function(p){switch(p.label){case 0:d=document,p.label=1;case 1:return d.body?[3,3]:[4,ml(i)];case 2:return p.sent(),[3,1];case 3:h=d.createElement("iframe"),p.label=4;case 4:return p.trys.push([4,,10,11]),[4,new Promise(function(g,_){var v=!1,w=function(){v=!0,g()},N=function(V){v=!0,_(V)};h.onload=w,h.onerror=N;var L=h.style;L.setProperty("display","block","important"),L.position="absolute",L.top="0",L.left="0",L.visibility="hidden",e&&"srcdoc"in h?h.srcdoc=e:h.src="about:blank",d.body.appendChild(h);var O=function(){var V,G;v||(((G=(V=h.contentWindow)===null||V===void 0?void 0:V.document)===null||G===void 0?void 0:G.readyState)==="complete"?w():setTimeout(O,10))};O()})];case 5:p.sent(),p.label=6;case 6:return!((l=(s=h.contentWindow)===null||s===void 0?void 0:s.document)===null||l===void 0)&&l.body?[3,8]:[4,ml(i)];case 7:return p.sent(),[3,6];case 8:return[4,n(h,h.contentWindow)];case 9:return[2,p.sent()];case 10:return(u=h.parentNode)===null||u===void 0||u.removeChild(h),[7];case 11:return[2]}})})}function VI(n){for(var e=hI(n),i=e[0],s=e[1],l=document.createElement(i??"div"),u=0,d=Object.keys(s);u<d.length;u++){var h=d[u],p=s[h].join(" ");h==="style"?WI(l.style,p):l.setAttribute(h,p)}return l}function WI(n,e){for(var i=0,s=e.split(";");i<s.length;i++){var l=s[i],u=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(l);if(u){var d=u[1],h=u[2],p=u[4];n.setProperty(d,h,p||"")}}}function UI(){for(var n=window;;){var e=n.parent;if(!e||e===n)return!1;try{if(e.location.origin!==n.location.origin)return!0}catch(i){if(i instanceof Error&&i.name==="SecurityError")return!0;throw i}n=e}}var jI="mmMwWLliI0O&1",BI="48px",Qr=["monospace","sans-serif","serif"],Sm=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function HI(){var n=this;return Dv(function(e,i){var s=i.document;return rn(n,void 0,void 0,function(){var l,u,d,h,p,g,_,v,w,N,L,O;return sn(this,function(V){for(l=s.body,l.style.fontSize=BI,u=s.createElement("div"),u.style.setProperty("visibility","hidden","important"),d={},h={},p=function(G){var J=s.createElement("span"),se=J.style;return se.position="absolute",se.top="0",se.left="0",se.fontFamily=G,J.textContent=jI,u.appendChild(J),J},g=function(G,J){return p("'".concat(G,"',").concat(J))},_=function(){return Qr.map(p)},v=function(){for(var G={},J=function(ve){G[ve]=Qr.map(function(de){return g(ve,de)})},se=0,X=Sm;se<X.length;se++){var ge=X[se];J(ge)}return G},w=function(G){return Qr.some(function(J,se){return G[se].offsetWidth!==d[J]||G[se].offsetHeight!==h[J]})},N=_(),L=v(),l.appendChild(u),O=0;O<Qr.length;O++)d[Qr[O]]=N[O].offsetWidth,h[Qr[O]]=N[O].offsetHeight;return[2,Sm.filter(function(G){return w(L[G])})]})})})}function $I(){var n=navigator.plugins;if(n){for(var e=[],i=0;i<n.length;++i){var s=n[i];if(s){for(var l=[],u=0;u<s.length;++u){var d=s[u];l.push({type:d.type,suffixes:d.suffixes})}e.push({name:s.name,description:s.description,mimeTypes:l})}}return e}}function GI(){return YI(ek())}function YI(n){var e,i=!1,s,l,u=QI(),d=u[0],h=u[1];return KI(d,h)?(i=XI(h),n?s=l="skipped":(e=ZI(d,h),s=e[0],l=e[1])):s=l="unsupported",{winding:i,geometry:s,text:l}}function QI(){var n=document.createElement("canvas");return n.width=1,n.height=1,[n,n.getContext("2d")]}function KI(n,e){return!!(e&&n.toDataURL)}function XI(n){return n.rect(0,0,10,10),n.rect(2,2,6,6),!n.isPointInPath(5,5,"evenodd")}function ZI(n,e){qI(n,e);var i=$u(n),s=$u(n);if(i!==s)return["unstable","unstable"];JI(n,e);var l=$u(n);return[l,i]}function qI(n,e){n.width=240,n.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var i="Cwm fjordbank gly ".concat("😃");e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(i,4,45)}function JI(n,e){n.width=122,n.height=110,e.globalCompositeOperation="multiply";for(var i=0,s=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<s.length;i++){var l=s[i],u=l[0],d=l[1],h=l[2];e.fillStyle=u,e.beginPath(),e.arc(d,h,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function $u(n){return n.toDataURL()}function ek(){return Yt()&&Rs()&&Ns()}function tk(){var n=navigator,e=0,i;n.maxTouchPoints!==void 0?e=ld(n.maxTouchPoints):n.msMaxTouchPoints!==void 0&&(e=n.msMaxTouchPoints);try{document.createEvent("TouchEvent"),i=!0}catch{i=!1}var s="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:i,touchStart:s}}function nk(){return navigator.oscpu}function rk(){var n=navigator,e=[],i=n.language||n.userLanguage||n.browserLanguage||n.systemLanguage;if(i!==void 0&&e.push([i]),Array.isArray(n.languages))Ts()&&TI()||e.push(n.languages);else if(typeof n.languages=="string"){var s=n.languages;s&&e.push(s.split(","))}return e}function ik(){return window.screen.colorDepth}function sk(){return pn(Ht(navigator.deviceMemory),void 0)}function ok(){if(!(Yt()&&Rs()&&Ns()))return lk()}function lk(){var n=screen,e=function(s){return pn(ld(s),null)},i=[e(n.width),e(n.height)];return i.sort().reverse(),i}var ak=2500,uk=10,Ko,Gu;function ck(){if(Gu===void 0){var n=function(){var e=vc();_c(e)?Gu=setTimeout(n,ak):(Ko=e,Gu=void 0)};n()}}function dk(){var n=this;return ck(),function(){return rn(n,void 0,void 0,function(){var e;return sn(this,function(i){switch(i.label){case 0:return e=vc(),_c(e)?Ko?[2,Nv([],Ko,!0)]:PI()?[4,AI()]:[3,2]:[3,2];case 1:i.sent(),e=vc(),i.label=2;case 2:return _c(e)||(Ko=e),[2,e]}})})}}function fk(){var n=this;if(Yt()&&Rs()&&Ns())return function(){return Promise.resolve(void 0)};var e=dk();return function(){return rn(n,void 0,void 0,function(){var i,s;return sn(this,function(l){switch(l.label){case 0:return[4,e()];case 1:return i=l.sent(),s=function(u){return u===null?null:Pv(u,uk)},[2,[s(i[0]),s(i[1]),s(i[2]),s(i[3])]]}})})}}function vc(){var n=screen;return[pn(Ht(n.availTop),null),pn(Ht(n.width)-Ht(n.availWidth)-pn(Ht(n.availLeft),0),null),pn(Ht(n.height)-Ht(n.availHeight)-pn(Ht(n.availTop),0),null),pn(Ht(n.availLeft),null)]}function _c(n){for(var e=0;e<4;++e)if(n[e])return!1;return!0}function hk(){return pn(ld(navigator.hardwareConcurrency),void 0)}function pk(){var n,e=(n=window.Intl)===null||n===void 0?void 0:n.DateTimeFormat;if(e){var i=new e().resolvedOptions().timeZone;if(i)return i}var s=-mk();return"UTC".concat(s>=0?"+":"").concat(s)}function mk(){var n=new Date().getFullYear();return Math.max(Ht(new Date(n,0,1).getTimezoneOffset()),Ht(new Date(n,6,1).getTimezoneOffset()))}function gk(){try{return!!window.sessionStorage}catch{return!0}}function vk(){try{return!!window.localStorage}catch{return!0}}function _k(){if(!(Av()||kI()))try{return!!window.indexedDB}catch{return!0}}function yk(){return!!window.openDatabase}function wk(){return navigator.cpuClass}function Sk(){var n=navigator.platform;return n==="MacIntel"&&Yt()&&!ad()?xI()?"iPad":"iPhone":n}function Ek(){return navigator.vendor||""}function Ck(){for(var n=[],e=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<i.length;e++){var s=i[e],l=window[s];l&&typeof l=="object"&&n.push(s)}return n.sort()}function Ik(){var n=document;try{n.cookie="cookietest=1; SameSite=Strict;";var e=n.cookie.indexOf("cookietest=")!==-1;return n.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function kk(){var n=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',n("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",n("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",n("LnNwb25zb3JpdA=="),".ylamainos",n("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),n("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",n("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",n("LmhlYWRlci1ibG9ja2VkLWFk"),n("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",n("I2FkXzMwMFgyNTA="),n("I2Jhbm5lcmZsb2F0MjI="),n("I2NhbXBhaWduLWJhbm5lcg=="),n("I0FkLUNvbnRlbnQ=")],adGuardChinese:[n("LlppX2FkX2FfSA=="),n("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",n("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),n("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",n("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",n("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",n("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),n("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),n("LmFkZ29vZ2xl"),n("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[n("YW1wLWF1dG8tYWRz"),n("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",n("I2FkX2ludmlld19hcmVh")],adGuardRussian:[n("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),n("LnJlY2xhbWE="),'div[id^="smi2adblock"]',n("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[n("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),n("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",n("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),n("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),n("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",n("I3Jla2xhbWk="),n("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),n("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),n("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[n("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",n("LndpZGdldF9wb19hZHNfd2lkZ2V0"),n("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",n("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[n("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),n("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",n("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",n("I3Jla2xhbW5pLWJveA=="),n("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",n("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[n("I2FkdmVydGVudGll"),n("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",n("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",n("LnNwb25zb3JsaW5rZ3J1ZW4="),n("I3dlcmJ1bmdza3k="),n("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),n("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[n("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",n("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),n("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),n("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[n("LnJla2xhbW9zX3RhcnBhcw=="),n("LnJla2xhbW9zX251b3JvZG9z"),n("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),n("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),n("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[n("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[n("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),n("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",n("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[n("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),n("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),n("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",n("LmFkX19tYWlu"),n("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[n("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[n("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),n("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[n("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),n("I2xpdmVyZUFkV3JhcHBlcg=="),n("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),n("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[n("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",n("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),n("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),n("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[n("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),n("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),n("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",n("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),n("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),n("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),n("ZGl2I3NrYXBpZWNfYWQ=")],ro:[n("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),n("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),n("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),n("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[n("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),n("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),n("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",n("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),n("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",n("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function Tk(n){var e=n===void 0?{}:n,i=e.debug;return rn(this,void 0,void 0,function(){var s,l,u,d,h,p;return sn(this,function(g){switch(g.label){case 0:return Nk()?(s=kk(),l=Object.keys(s),u=(p=[]).concat.apply(p,l.map(function(_){return s[_]})),[4,Rk(u)]):[2,void 0];case 1:return d=g.sent(),i&&xk(s,d),h=l.filter(function(_){var v=s[_],w=ot(v.map(function(N){return d[N]}));return w>v.length*.6}),h.sort(),[2,h]}})})}function Nk(){return Yt()||ud()}function Rk(n){var e;return rn(this,void 0,void 0,function(){var i,s,l,u,p,d,h,p;return sn(this,function(g){switch(g.label){case 0:for(i=document,s=i.createElement("div"),l=new Array(n.length),u={},Em(s),p=0;p<n.length;++p)d=VI(n[p]),d.tagName==="DIALOG"&&d.show(),h=i.createElement("div"),Em(h),h.appendChild(d),s.appendChild(h),l[p]=d;g.label=1;case 1:return i.body?[3,3]:[4,ml(50)];case 2:return g.sent(),[3,1];case 3:i.body.appendChild(s);try{for(p=0;p<n.length;++p)l[p].offsetParent||(u[n[p]]=!0)}finally{(e=s.parentNode)===null||e===void 0||e.removeChild(s)}return[2,u]}})})}function Em(n){n.style.setProperty("visibility","hidden","important"),n.style.setProperty("display","block","important")}function xk(n,e){for(var i="DOM blockers debug:\n```",s=0,l=Object.keys(n);s<l.length;s++){var u=l[s];i+=`
`.concat(u,":");for(var d=0,h=n[u];d<h.length;d++){var p=h[d];i+=`
  `.concat(e[p]?"🚫":"➡️"," ").concat(p)}}console.log("".concat(i,"\n```"))}function Pk(){for(var n=0,e=["rec2020","p3","srgb"];n<e.length;n++){var i=e[n];if(matchMedia("(color-gamut: ".concat(i,")")).matches)return i}}function Ak(){if(Cm("inverted"))return!0;if(Cm("none"))return!1}function Cm(n){return matchMedia("(inverted-colors: ".concat(n,")")).matches}function Lk(){if(Im("active"))return!0;if(Im("none"))return!1}function Im(n){return matchMedia("(forced-colors: ".concat(n,")")).matches}var Dk=100;function Mk(){if(matchMedia("(min-monochrome: 0)").matches){for(var n=0;n<=Dk;++n)if(matchMedia("(max-monochrome: ".concat(n,")")).matches)return n;throw new Error("Too high value")}}function Ok(){if(Kr("no-preference"))return 0;if(Kr("high")||Kr("more"))return 1;if(Kr("low")||Kr("less"))return-1;if(Kr("forced"))return 10}function Kr(n){return matchMedia("(prefers-contrast: ".concat(n,")")).matches}function Fk(){if(km("reduce"))return!0;if(km("no-preference"))return!1}function km(n){return matchMedia("(prefers-reduced-motion: ".concat(n,")")).matches}function bk(){if(Tm("reduce"))return!0;if(Tm("no-preference"))return!1}function Tm(n){return matchMedia("(prefers-reduced-transparency: ".concat(n,")")).matches}function zk(){if(Nm("high"))return!0;if(Nm("standard"))return!1}function Nm(n){return matchMedia("(dynamic-range: ".concat(n,")")).matches}var fe=Math,rt=function(){return 0};function Vk(){var n=fe.acos||rt,e=fe.acosh||rt,i=fe.asin||rt,s=fe.asinh||rt,l=fe.atanh||rt,u=fe.atan||rt,d=fe.sin||rt,h=fe.sinh||rt,p=fe.cos||rt,g=fe.cosh||rt,_=fe.tan||rt,v=fe.tanh||rt,w=fe.exp||rt,N=fe.expm1||rt,L=fe.log1p||rt,O=function(Z){return fe.pow(fe.PI,Z)},V=function(Z){return fe.log(Z+fe.sqrt(Z*Z-1))},G=function(Z){return fe.log(Z+fe.sqrt(Z*Z+1))},J=function(Z){return fe.log((1+Z)/(1-Z))/2},se=function(Z){return fe.exp(Z)-1/fe.exp(Z)/2},X=function(Z){return(fe.exp(Z)+1/fe.exp(Z))/2},ge=function(Z){return fe.exp(Z)-1},ve=function(Z){return(fe.exp(2*Z)-1)/(fe.exp(2*Z)+1)},de=function(Z){return fe.log(1+Z)};return{acos:n(.12312423423423424),acosh:e(1e308),acoshPf:V(1e154),asin:i(.12312423423423424),asinh:s(1),asinhPf:G(1),atanh:l(.5),atanhPf:J(.5),atan:u(.5),sin:d(-1e300),sinh:h(1),sinhPf:se(1),cos:p(10.000000000123),cosh:g(1),coshPf:X(1),tan:_(-1e300),tanh:v(1),tanhPf:ve(1),exp:w(1),expm1:N(1),expm1Pf:ge(1),log1p:L(10),log1pPf:de(10),powPI:O(-100)}}var Wk="mmMwWLliI0fiflO&1",Yu={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function Uk(){return jk(function(n,e){for(var i={},s={},l=0,u=Object.keys(Yu);l<u.length;l++){var d=u[l],h=Yu[d],p=h[0],g=p===void 0?{}:p,_=h[1],v=_===void 0?Wk:_,w=n.createElement("span");w.textContent=v,w.style.whiteSpace="nowrap";for(var N=0,L=Object.keys(g);N<L.length;N++){var O=L[N],V=g[O];V!==void 0&&(w.style[O]=V)}i[d]=w,e.append(n.createElement("br"),w)}for(var G=0,J=Object.keys(Yu);G<J.length;G++){var d=J[G];s[d]=i[d].getBoundingClientRect().width}return s})}function jk(n,e){return e===void 0&&(e=4e3),Dv(function(i,s){var l=s.document,u=l.body,d=u.style;d.width="".concat(e,"px"),d.webkitTextSizeAdjust=d.textSizeAdjust="none",Ts()?u.style.zoom="".concat(1/s.devicePixelRatio):Yt()&&(u.style.zoom="reset");var h=l.createElement("div");return h.textContent=Nv([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),u.appendChild(h),n(l,u)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function Bk(){return navigator.pdfViewerEnabled}function Hk(){var n=new Float32Array(1),e=new Uint8Array(n.buffer);return n[0]=1/0,n[0]=n[0]-n[0],e[3]}function $k(){var n=window.ApplePaySession;if(typeof(n==null?void 0:n.canMakePayments)!="function")return-1;if(Gk())return-3;try{return n.canMakePayments()?1:0}catch(e){return Yk(e)}}var Gk=UI;function Yk(n){if(n instanceof Error&&n.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(n.message))return-2;throw n}function Qk(){var n,e=document.createElement("a"),i=(n=e.attributionSourceId)!==null&&n!==void 0?n:e.attributionsourceid;return i===void 0?void 0:String(i)}var Mv=-1,Ov=-2,Kk=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Xk=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),Zk=["FRAGMENT_SHADER","VERTEX_SHADER"],qk=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Fv="WEBGL_debug_renderer_info",Jk="WEBGL_polygon_mode";function eT(n){var e,i,s,l,u,d,h=n.cache,p=bv(h);if(!p)return Mv;if(!Vv(p))return Ov;var g=zv()?null:p.getExtension(Fv);return{version:((e=p.getParameter(p.VERSION))===null||e===void 0?void 0:e.toString())||"",vendor:((i=p.getParameter(p.VENDOR))===null||i===void 0?void 0:i.toString())||"",vendorUnmasked:g?(s=p.getParameter(g.UNMASKED_VENDOR_WEBGL))===null||s===void 0?void 0:s.toString():"",renderer:((l=p.getParameter(p.RENDERER))===null||l===void 0?void 0:l.toString())||"",rendererUnmasked:g?(u=p.getParameter(g.UNMASKED_RENDERER_WEBGL))===null||u===void 0?void 0:u.toString():"",shadingLanguageVersion:((d=p.getParameter(p.SHADING_LANGUAGE_VERSION))===null||d===void 0?void 0:d.toString())||""}}function tT(n){var e=n.cache,i=bv(e);if(!i)return Mv;if(!Vv(i))return Ov;var s=i.getSupportedExtensions(),l=i.getContextAttributes(),u=[],d=[],h=[],p=[],g=[];if(l)for(var _=0,v=Object.keys(l);_<v.length;_++){var w=v[_];d.push("".concat(w,"=").concat(l[w]))}for(var N=Rm(i),L=0,O=N;L<O.length;L++){var V=O[L],G=i[V];h.push("".concat(V,"=").concat(G).concat(Kk.has(G)?"=".concat(i.getParameter(G)):""))}if(s)for(var J=0,se=s;J<se.length;J++){var X=se[J];if(!(X===Fv&&zv()||X===Jk&&iT())){var ge=i.getExtension(X);if(!ge){u.push(X);continue}for(var ve=0,de=Rm(ge);ve<de.length;ve++){var V=de[ve],G=ge[V];p.push("".concat(V,"=").concat(G).concat(Xk.has(G)?"=".concat(i.getParameter(G)):""))}}}for(var Z=0,Ot=Zk;Z<Ot.length;Z++)for(var kt=Ot[Z],Ft=0,gt=qk;Ft<gt.length;Ft++){var Xe=gt[Ft],vt=nT(i,kt,Xe);g.push("".concat(kt,".").concat(Xe,"=").concat(vt.join(",")))}return p.sort(),h.sort(),{contextAttributes:d,parameters:h,shaderPrecisions:g,extensions:s,extensionParameters:p,unsupportedExtensions:u}}function bv(n){if(n.webgl)return n.webgl.context;var e=document.createElement("canvas"),i;e.addEventListener("webglCreateContextError",function(){return i=void 0});for(var s=0,l=["webgl","experimental-webgl"];s<l.length;s++){var u=l[s];try{i=e.getContext(u)}catch{}if(i)break}return n.webgl={context:i},i}function nT(n,e,i){var s=n.getShaderPrecisionFormat(n[e],n[i]);return s?[s.rangeMin,s.rangeMax,s.precision]:[]}function Rm(n){var e=Object.keys(n.__proto__);return e.filter(rT)}function rT(n){return typeof n=="string"&&!n.match(/[^A-Z0-9_x]/)}function zv(){return Lv()}function iT(){return Ts()||Yt()}function Vv(n){return typeof n.getParameter=="function"}function sT(){var n,e=ud()||Yt();return e?window.AudioContext&&(n=new AudioContext().baseLatency)!==null&&n!==void 0?n:-1:-2}var oT={fonts:HI,domBlockers:Tk,fontPreferences:Uk,audio:DI,screenFrame:fk,canvas:GI,osCpu:nk,languages:rk,colorDepth:ik,deviceMemory:sk,screenResolution:ok,hardwareConcurrency:hk,timezone:pk,sessionStorage:gk,localStorage:vk,indexedDB:_k,openDatabase:yk,cpuClass:wk,platform:Sk,plugins:$I,touchSupport:tk,vendor:Ek,vendorFlavors:Ck,cookiesEnabled:Ik,colorGamut:Pk,invertedColors:Ak,forcedColors:Lk,monochrome:Mk,contrast:Ok,reducedMotion:Fk,reducedTransparency:bk,hdr:zk,math:Vk,pdfViewerEnabled:Bk,architecture:Hk,applePay:$k,privateClickMeasurement:Qk,audioBaseLatency:sT,webGlBasics:eT,webGlExtensions:tT};function lT(n){return II(oT,n,[])}var aT="$ if upgrade to Pro: https://fpjs.dev/pro";function uT(n){var e=cT(n),i=dT(e);return{score:e,comment:aT.replace(/\$/g,"".concat(i))}}function cT(n){if(ud())return .4;if(Yt())return ad()&&!(Rs()&&Ns())?.5:.3;var e="value"in n.platform?n.platform.value:"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function dT(n){return Pv(.99+.01*n,1e-4)}function fT(n){for(var e="",i=0,s=Object.keys(n).sort();i<s.length;i++){var l=s[i],u=n[l],d="error"in u?"error":JSON.stringify(u.value);e+="".concat(e?"|":"").concat(l.replace(/([:|\\])/g,"\\$1"),":").concat(d)}return e}function Wv(n){return JSON.stringify(n,function(e,i){return i instanceof Error?wI(i):i},2)}function Uv(n){return yI(fT(n))}function hT(n){var e,i=uT(n);return{get visitorId(){return e===void 0&&(e=Uv(this.components)),e},set visitorId(s){e=s},confidence:i,components:n,version:Rv}}function pT(n){return n===void 0&&(n=50),cI(n,n*2)}function mT(n,e){var i=Date.now();return{get:function(s){return rn(this,void 0,void 0,function(){var l,u,d;return sn(this,function(h){switch(h.label){case 0:return l=Date.now(),[4,n()];case 1:return u=h.sent(),d=hT(u),(e||s!=null&&s.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(d.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(l-i,`
visitorId: `).concat(d.visitorId,`
components: `).concat(Wv(u),"\n```")),[2,d]}})})}}}function gT(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var n=new XMLHttpRequest;n.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(Rv,"/npm-monitoring"),!0),n.send()}catch(e){console.error(e)}}function vT(n){var e;return n===void 0&&(n={}),rn(this,void 0,void 0,function(){var i,s,l;return sn(this,function(u){switch(u.label){case 0:return(!((e=n.monitoring)!==null&&e!==void 0)||e)&&gT(),i=n.delayFallback,s=n.debug,[4,pT(i)];case 1:return u.sent(),l=lT({cache:{},debug:s}),[2,mT(l,s)]}})})}var _T={load:vT,hashComponents:Uv,componentsToDebugString:Wv};const yT=()=>{const[n,e]=Qu.useState(null),i=()=>{const u=new Date;return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`},s=Date.now().toString(36);let l=!1;Qu.useEffect(()=>{(async()=>{try{console.log("Initializing tracking...");const p=(await(await _T.load()).get()).visitorId;e(p),console.log("Unique browser fingerprint:",p);const _=await(async()=>{try{console.log("Fetching location data...");const ge=await(await fetch("https://api.ipify.org?format=json")).json();console.log("User IP:",ge.ip);const de=await(await fetch(`https://ipapi.co/${ge.ip}/json/`)).json();if(de.error)throw new Error("Location API error: "+de.reason);return console.log("Location Data:",de),{country:de.country_name||"Unknown",region:de.region||"Unknown",city:de.city||"Unknown",latitude:de.latitude||"Unknown",longitude:de.longitude||"Unknown",ip:ge.ip}}catch(X){return console.error("Error getting location:",X),{country:"Unknown",region:"Unknown",city:"Unknown",latitude:"Unknown",longitude:"Unknown",ip:"Unknown"}}})(),v=i(),w=Bo(Ho,`unique-users/${v}/${p}`),N=await mm(w);let L=0;if(N.exists()&&(L=N.val().visits||0),!N.exists())console.log("First visit ever - creating new entry"),await Qo(w,{lastSeen:Date.now(),visits:1,location:_});else{const X=Bo(Ho,`active-sessions/${i()}/${p}`);(await mm(X)).exists()?(console.log("Existing session - updating last seen time"),await pm(w,{lastSeen:Date.now()})):(console.log("New session - incrementing visit count"),await pm(w,{visits:L+1,lastSeen:Date.now()}),await Qo(X,{startTime:Date.now()})),window.addEventListener("beforeunload",async()=>{await hm(X)})}const O=Bo(Ho,`visits/${i()}/${s}`),V=async()=>{l||(l=!0,console.log("Starting visit tracking..."),await Qo(O,{userId:p,timestamp:Date.now(),active:!0,location:_}))},G=async()=>{l&&(l=!1,console.log("Ending visit tracking..."),await hm(O))};await V();const J=async()=>{document.visibilityState==="visible"?await V():document.visibilityState==="hidden"&&await G()};document.addEventListener("visibilitychange",J),window.addEventListener("beforeunload",async()=>{await G()}),Z1(Bo(Ho,`unique-users/${i()}`),X=>{const ge=X.val(),ve=ge?Object.keys(ge).length:0;console.log(`Total Unique Users Today: ${ve}`)}),Hu.logEvent("page_view",{page_title:document.title,page_location:window.location.href,user_id:p});let se=Date.now();setInterval(()=>{const X=Math.floor((Date.now()-se)/1e3);Hu.logEvent("user_engagement",{engagement_time:X,type:"user",user_id:p})},6e4),window.addEventListener("message",function(X){X.data&&X.data.type==="analytics"&&Hu.logEvent("gee_interaction",{action:X.data.action,category:X.data.category,label:X.data.label||"",user_id:p})})}catch(d){console.error("Error initializing tracking:",d)}})()},[])};function wT(){return es.jsxs("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:[es.jsx(yT,{}),es.jsx("iframe",{id:"geeApp",src:"https://our-axon-435300-d4.projects.earthengine.app/view/agroclimate-v1",style:{width:"100%",height:"100vh",border:"none",display:"block"},title:"Agroclimate Viewer"})]})}$y.createRoot(document.getElementById("root")).render(es.jsx(Qu.StrictMode,{children:es.jsx(wT,{})}));
